import{_ as N}from"./AuthenticatedLayout.0bc0b363.js";import{h as S,u as B,j as g,m as $,c as O,w as i,r as p,o as u,a as s,b as t,H,d as o,t as n,M as L,n as _,s as v,B as P,C as U,D as w,f as M,y as Q}from"./app.cc606831.js";import{u as T}from"./index.common.8f199d34.js";import{_ as X}from"./DialogConfirm.f96873bf.js";const Z={class:"row q-mb-lg"},G={class:"column col-12 col-md-6 justify-center"},J=o("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Editar produto ",-1),K={class:"col-12 col-md-6 flex justify-end items-center"},W=o("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir produto ",-1),Y=o("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar ",-1),ee={class:"bg-white q-py-lg q-px-lg app-br-16"},oe={class:"row q-col-gutter-lg"},te=o("div",{class:"col-12 items-center q-mt-xs"},[o("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),se={class:"col-12 col-md-7"},le={class:"text-red"},ae={class:"col-12 col-md-5"},ce={class:"col-12 col-md-12"},de={class:"text-red"},re=o("div",{class:"col-12 items-center q-mt-xs"},[o("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-28"}," Valores ")],-1),ie={key:0,class:"col-12 col-md-6"},ne={class:"text-red"},me={key:1,class:"col-12 col-md-6"},ue={class:"text-red"},pe={key:2,class:"col-12 col-md-6"},_e={class:"text-red"},be={key:3,class:"col-12 col-md-6"},ve={class:"text-red"},he={key:4,class:"col-12 col-md-12"},fe={class:"text-red"},xe={class:"col-12 col-md-6"},ge={class:"text-red"},ke={class:"col-12 col-md-6"},ye={class:"text-red"},Ve=o("div",{class:"col-12 items-center q-mt-xs"},[o("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-28"}," Imagem da vitrine ")],-1),qe={key:5,class:"col-12 col-md-12"},Be={class:"absolute-bottom text-subtitle2 row items-center"},Pe={key:6,class:"col-12"},Ue=o("div",{class:"q-mt-sm"}," Clique aqui ou arraste sua imagem ",-1),we={class:"col-12"},Ce={class:"text-red"},Ie={class:"col-12"},ze={class:"text-red"},je={class:"col-12 flex justify-end items-center"},Ae=o("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Voltar ",-1),Ne={__name:"Edit",props:{product:Object,errors:Object},setup(a){const r=a,h=S(),e=B({id:r.product.id,name:r.product.name,description:r.product.description,url_sale:r.product.url_sale,terms_acceptance:r.product.terms_acceptance,video_url:r.product.video_url,credit_card_accept:r.product.credit_card_accept,credit_card_value:r.product.credit_card_value.toFixed(2),credit_card_installments:r.product.credit_card_installments,boleto_accept:r.product.boleto_accept,boleto_value:r.product.boleto_value.toFixed(2),boleto_installments:r.product.boleto_installments,pix_accept:r.product.pix_accept,pix_value:r.product.pix_value.toFixed(2),checkout_code:r.product.checkout_code,checkout_link:r.product.checkout_link,image:r.product.image}),f=T({onDrop:(d,l)=>{e.image=d[0],l.length>0&&h.notify({message:"Insira apenas uma imagem",position:"center"})},accept:["image/*"],maxFiles:1}),q=g(()=>e.image?typeof e.image=="object"?URL.createObjectURL(e.image):e.image:""),C=()=>e.image=null,I=()=>{e.transform(d=>({...d,_method:"put"})).post(route("admin.product.update",e.id),{onSuccess:()=>{h.notify({type:"positive",message:"Produto atualizado com sucesso",position:"top"})}})};function z(){h.dialog({component:X,componentProps:{title:"Excluir produto",message:"Tem certeza que deseja excluir esse produto?"}}).onOk(()=>{Q.Inertia.delete(route("admin.product.destroy",e.id),{onSuccess:()=>{h.notify({type:"positive",message:"Produto exclu\xEDdo com sucesso",position:"top"})}})})}const j=$(["Cart\xE3o de cr\xE9dito","Boleto","PIX"]),k=g({get:()=>{let d=[];return e.credit_card_accept&&d.push("Cart\xE3o de cr\xE9dito"),e.boleto_accept&&d.push("Boleto"),e.pix_accept&&d.push("PIX"),d},set:d=>{e.credit_card_accept=d.includes("Cart\xE3o de cr\xE9dito"),e.pix_accept=d.includes("PIX"),e.boleto_accept=d.includes("Boleto")}}),A=g(()=>Array.from(Array(12).keys()).map(d=>({label:`At\xE9 ${d+1}x`,value:d+1}))),E=g(()=>Array.from(Array(24).keys()).map(d=>({label:`At\xE9 ${d+1}x`,value:d+1}))),D=()=>B().get(route("admin.product.index"));return(d,l)=>{const y=p("q-breadcrumbs-el"),F=p("q-breadcrumbs"),b=p("q-icon"),x=p("q-btn"),m=p("q-input"),V=p("q-select"),R=p("q-img");return u(),O(N,null,{default:i(()=>[s(t(H),{title:"Produto | Editar"}),o("div",Z,[o("div",G,[J,s(F,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:i(()=>[s(y,{label:"Home",class:"text-grey"}),s(y,{label:"Produtos",class:"text-grey"}),s(y,{label:"Editar produto",class:"text-primary"})]),_:1})]),o("div",K,[s(x,{color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:z},{default:i(()=>[s(b,{name:"close",size:"xs"}),W]),_:1}),s(x,{color:"primary",rounded:"","no-caps":"",onClick:I,disabled:t(e).processing},{default:i(()=>[s(b,{name:"check",size:"xs"}),Y]),_:1},8,["disabled"])])]),o("div",ee,[o("div",oe,[te,o("div",se,[s(m,{outlined:"",modelValue:t(e).name,"onUpdate:modelValue":l[0]||(l[0]=c=>t(e).name=c),label:"Nome do produto *","bottom-slots":Boolean(a.errors.name)},{hint:i(()=>[o("div",le,n(a.errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),o("div",ae,[s(V,{options:j.value,outlined:"",modelValue:t(k),"onUpdate:modelValue":l[1]||(l[1]=c=>L(k)?k.value=c:null),label:"Formas de pagamento",multiple:""},null,8,["options","modelValue"])]),o("div",ce,[s(m,{outlined:"",modelValue:t(e).description,"onUpdate:modelValue":l[2]||(l[2]=c=>t(e).description=c),label:"Descri\xE7\xE3o","bottom-slots":Boolean(a.errors.description)},{hint:i(()=>[o("div",de,n(a.errors.description),1)]),_:1},8,["modelValue","bottom-slots"])]),re,t(e).credit_card_accept?(u(),_("div",ie,[s(m,{outlined:"",modelValue:t(e).credit_card_value,"onUpdate:modelValue":l[3]||(l[3]=c=>t(e).credit_card_value=c),label:"Valor para pagamento em cart\xE3o","bottom-slots":Boolean(a.errors.credit_card_value),mask:"#.##","fill-mask":"0","reverse-fill-mask":""},{hint:i(()=>[o("div",ne,n(a.errors.credit_card_value),1)]),_:1},8,["modelValue","bottom-slots"])])):v("",!0),t(e).credit_card_accept?(u(),_("div",me,[s(V,{options:t(E),outlined:"",modelValue:t(e).credit_card_installments,"onUpdate:modelValue":l[4]||(l[4]=c=>t(e).credit_card_installments=c),label:"Quantidade de parcelas para cart\xE3o","bottom-slots":Boolean(a.errors.credit_card_installments),"emit-value":"","map-options":""},{hint:i(()=>[o("div",ue,n(a.errors.credit_card_installments),1)]),_:1},8,["options","modelValue","bottom-slots"])])):v("",!0),t(e).boleto_accept?(u(),_("div",pe,[s(m,{outlined:"",modelValue:t(e).boleto_value,"onUpdate:modelValue":l[5]||(l[5]=c=>t(e).boleto_value=c),label:"Valor para pagamento em boleto","bottom-slots":Boolean(a.errors.boleto_value),mask:"#.##","fill-mask":"0","reverse-fill-mask":""},{hint:i(()=>[o("div",_e,n(a.errors.boleto_value),1)]),_:1},8,["modelValue","bottom-slots"])])):v("",!0),t(e).boleto_accept?(u(),_("div",be,[s(V,{options:t(A),outlined:"",modelValue:t(e).boleto_installments,"onUpdate:modelValue":l[6]||(l[6]=c=>t(e).boleto_installments=c),label:"Quantidade de parcelas para boleto","bottom-slots":Boolean(a.errors.boleto_installments),"emit-value":"","map-options":""},{hint:i(()=>[o("div",ve,n(a.errors.boleto_installments),1)]),_:1},8,["options","modelValue","bottom-slots"])])):v("",!0),t(e).pix_accept?(u(),_("div",he,[s(m,{outlined:"",modelValue:t(e).pix_value,"onUpdate:modelValue":l[7]||(l[7]=c=>t(e).pix_value=c),label:"Valor para pagamento em pix","bottom-slots":Boolean(a.errors.pix_value),mask:"#.##","fill-mask":"0","reverse-fill-mask":""},{hint:i(()=>[o("div",fe,n(a.errors.pix_value),1)]),_:1},8,["modelValue","bottom-slots"])])):v("",!0),o("div",xe,[s(m,{outlined:"",modelValue:t(e).checkout_code,"onUpdate:modelValue":l[8]||(l[8]=c=>t(e).checkout_code=c),label:"C\xF3digo do checkout","bottom-slots":Boolean(a.errors.checkout_code)},{hint:i(()=>[o("div",ge,n(a.errors.checkout_code),1)]),_:1},8,["modelValue","bottom-slots"])]),o("div",ke,[s(m,{outlined:"",modelValue:t(e).checkout_link,"onUpdate:modelValue":l[9]||(l[9]=c=>t(e).checkout_link=c),label:"Link","bottom-slots":Boolean(a.errors.checkout_link)},{hint:i(()=>[o("div",ye,n(a.errors.checkout_link),1)]),_:1},8,["modelValue","bottom-slots"])]),Ve,t(q)?(u(),_("div",qe,[s(R,{src:t(q),style:{height:"400px"},class:"app-br-16"},{default:i(()=>[o("div",Be,[s(b,{name:"o_photo",size:"md",class:"q-mr-md"}),s(x,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:C}),o("div",P({class:"flex cursor-pointer"},t(f).getRootProps()),[o("input",U(w(t(f).getInputProps())),null,16),M(" Alterar imagem ")],16)])]),_:1},8,["src"])])):(u(),_("div",Pe,[o("div",P(t(f).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[o("input",U(w(t(f).getInputProps())),null,16),s(b,{name:"o_photo",size:"md"}),Ue],16)])),o("div",we,[s(m,{outlined:"",modelValue:t(e).video_url,"onUpdate:modelValue":l[10]||(l[10]=c=>t(e).video_url=c),label:"Video do produto","bottom-slots":Boolean(a.errors.video_url)},{hint:i(()=>[o("div",Ce,n(a.errors.video_url),1)]),_:1},8,["modelValue","bottom-slots"])]),o("div",Ie,[s(m,{outlined:"",modelValue:t(e).terms_acceptance,"onUpdate:modelValue":l[11]||(l[11]=c=>t(e).terms_acceptance=c),label:"Termo de aceite","bottom-slots":Boolean(a.errors.terms_acceptance),type:"textarea"},{hint:i(()=>[o("div",ze,n(a.errors.terms_acceptance),1)]),_:1},8,["modelValue","bottom-slots"])]),o("div",je,[s(x,{color:"primary",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:D},{default:i(()=>[s(b,{name:"chevron_left",size:"xs"}),Ae]),_:1})])])])]),_:1})}}};export{Ne as default};
