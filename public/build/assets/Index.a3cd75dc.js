import{h as oe,u as f,m as E,j as ae,c as m,w as t,r as a,o as u,a as e,b as d,H as se,d as s,s as q,f as J,t as O}from"./app.cc606831.js";import{_ as le}from"./AuthenticatedLayout.0bc0b363.js";import{_ as S}from"./DialogConfirm.f96873bf.js";const ne={class:"row q-pb-xl"},ce={class:"column col-12 col-md-6 justify-center"},ie=s("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Vagas ",-1),re={class:"col-12 col-md-6 flex justify-end items-center"},de=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir selecionados ",-1),me=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Nova vaga ",-1),ue={class:"row q-col-gutter-sm"},pe={class:"col-12"},_e={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},fe=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),ye=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),qe=["onClick"],be={class:"row items-center justify-center app-fw-700 app-fs-16"},ge={class:"row items-center justify-center app-fw-700 app-fs-16"},ve=s("div",{class:"q-ml-sm"}," Editar ",-1),xe=s("div",{class:"q-ml-sm"}," Visualizar ",-1),we=s("div",{class:"q-ml-sm"}," Excluir ",-1),he=s("div",{class:"q-ml-sm"}," Visualizar ",-1),Ve={class:"row items-center text-grey"},ke={class:"row items-center text-grey"},ze={__name:"Index",props:{jobVacancies:Object,errors:Object,query:Object,canJobVacancyStore:Boolean,canJobVacancyEdit:Boolean,canJobVacancyDestroy:Boolean},setup(c){const y=c,v=oe(),D=[{name:"title",align:"left",label:"T\xEDtulo",field:"title",style:"width: 50%"},{name:"display_to",align:"left",label:"Mostrar para",field:"display_to",style:"width: 50%"},{name:"actions",label:"A\xE7\xE3o"}],l=f({orderBy:y.query.orderBy,sort:y.query.sort,page:y.query.page,rowsPerPage:y.query.rowsPerPage,filters:{name:y.query.filters.name}}),N=n=>{l.orderBy===n?l.sort=l.sort=="desc"?"asc":"desc":l.sort=="asc",l.orderBy=n,l.page=1,b()},F=n=>{l.filters[n]=null,b()},b=()=>{l.get(route("admin.job-vacancy.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>x.value=!1})},T=()=>f().get(route("admin.job-vacancy.create")),H=n=>f().get(route("admin.job-vacancy.edit",n)),j=n=>f().get(route("admin.job-vacancy.show",n));function A(n){v.dialog({component:S,componentProps:{title:"Excluir vaga",message:"Tem certeza que deseja excluir essa vaga?"}}).onOk(()=>{f().delete(route("admin.job-vacancy.destroy",n),{onSuccess:()=>{v.notify({type:"positive",message:"Vaga exclu\xEDdo com sucesso",position:"top"})}})})}function I(){v.dialog({component:S,componentProps:{title:"Excluir selecionados",message:"Tem certeza que deseja excluir vagas selecionadas?"}}).onOk(()=>{f({ids:g.value.map(n=>n.id)}).post(route("admin.job-vacancy.destroy-multiples"),{onSuccess:()=>{g.value=[],v.notify({type:"positive",message:"Vagas exclu\xEDdas com sucesso",position:"top"})}})})}const g=E([]),C=ae(()=>Object.values(y.query.filters).filter(n=>n).length),x=E(!1),L=()=>f().get(route("admin.job-vacancy.index"));return(n,i)=>{const P=a("q-breadcrumbs-el"),M=a("q-breadcrumbs"),r=a("q-icon"),_=a("q-btn"),Q=a("q-chip"),z=a("q-space"),R=a("q-badge"),G=a("q-input"),B=a("q-menu"),w=a("q-card-section"),h=a("q-separator"),$=a("q-checkbox"),U=a("q-th"),V=a("q-item-section"),k=a("q-item"),K=a("q-list"),W=a("q-td"),X=a("q-table"),Y=a("q-select"),Z=a("q-pagination"),ee=a("q-card");return u(),m(le,null,{default:t(()=>[e(d(se),{title:"Vagas"}),s("div",ne,[s("div",ce,[ie,e(M,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:t(()=>[e(P,{label:"Home",class:"text-grey"}),e(P,{label:"Vagas",class:"text-primary"})]),_:1})]),s("div",re,[g.value.length>0&&c.canJobVacancyDestroy?(u(),m(_,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:I},{default:t(()=>[e(r,{name:"close",size:"xs"}),de]),_:1})):q("",!0),e(_,{color:"primary",rounded:"","no-caps":"",onClick:T},{default:t(()=>[e(r,{name:"add",size:"xs"}),me]),_:1})])]),e(ee,{flat:"",class:"app-br-16"},{default:t(()=>[e(w,{class:"row items-center q-py-sm q-px-lg"},{default:t(()=>[c.query.filters.title?(u(),m(Q,{key:0,class:"adm-chip-primary",label:`Nome = ${c.query.filters.title}`},{default:t(()=>[e(r,{name:"cancel",size:"xs",onClick:i[0]||(i[0]=o=>F("title")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):q("",!0),e(z),e(_,{round:"",dense:"",flat:"",color:"primary"},{default:t(()=>[d(C)?(u(),m(R,{key:0,color:"primary",floating:"",rounded:"",label:d(C)},null,8,["label"])):q("",!0),e(r,{name:"tune",class:"rotate-90"}),e(B,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:x.value,"onUpdate:modelValue":i[2]||(i[2]=o=>x.value=o)},{default:t(()=>[s("div",ue,[s("div",pe,[e(G,{outlined:"",modelValue:d(l).filters.title,"onUpdate:modelValue":i[1]||(i[1]=o=>d(l).filters.title=o),label:"Nome da vaga"},null,8,["modelValue"])])]),s("div",_e,[e(_,{color:"primary",rounded:"","no-caps":"",onClick:b},{default:t(()=>[e(r,{name:"check",size:"xs"}),fe]),_:1}),e(_,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:L},{default:t(()=>[e(r,{name:"close",size:"xs"}),ye]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(w,{class:"q-py-none"},{default:t(()=>[e(h,{color:"grey-3"})]),_:1}),e(w,{class:"q-py-none"},{default:t(()=>[e(X,{rows:c.jobVacancies.data,columns:D,flat:"",class:"text-grey-8",selected:g.value,"onUpdate:selected":i[3]||(i[3]=o=>g.value=o),selection:"multiple","hide-pagination":"",pagination:{rowsPerPage:d(l).rowsPerPage}},{"header-selection":t(o=>[e($,{modelValue:o.selected,"onUpdate:modelValue":p=>o.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":t(o=>[e($,{"model-value":o.selected,"onUpdate:modelValue":(p,te)=>{Object.getOwnPropertyDescriptor(o,"selected").set(p,te)}},null,8,["model-value","onUpdate:modelValue"])]),"header-cell":t(o=>[e(U,{props:o},{default:t(()=>[s("div",{class:"app-fw-700 app-fs-16 cursor-pointer",onClick:p=>N(o.col.name)},[J(O(o.col.label)+" ",1),o.col.name===c.query.orderBy?(u(),m(r,{key:0,name:c.query.sort=="desc"?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])):q("",!0)],8,qe)]),_:2},1032,["props"])]),"header-cell-actions":t(o=>[e(U,{props:o,"auto-width":""},{default:t(()=>[s("div",be,O(o.col.label),1)]),_:2},1032,["props"])]),"body-cell-actions":t(o=>[e(W,{props:o},{default:t(()=>[s("div",ge,[c.canJobVacancyEdit||c.canJobVacancyDestroy?(u(),m(_,{key:0,icon:"more_vert",flat:""},{default:t(()=>[e(B,{offset:[65,0]},{default:t(()=>[e(K,null,{default:t(()=>[c.canJobVacancyEdit?(u(),m(k,{key:0,clickable:"",onClick:p=>H(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(r,{name:"edit",size:"xs"}),e(V,{"no-wrap":""},{default:t(()=>[ve]),_:1})]),_:2},1032,["onClick"])):q("",!0),e(h),e(k,{clickable:"",onClick:p=>j(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(r,{name:"visibility",size:"xs"}),e(V,{"no-wrap":""},{default:t(()=>[xe]),_:1})]),_:2},1032,["onClick"]),e(h),c.canJobVacancyDestroy?(u(),m(k,{key:1,clickable:"",onClick:p=>A(o.row.id),class:"text-grey-7 flex flex-center"},{default:t(()=>[e(r,{name:"close",size:"xs"}),e(V,{"no-wrap":""},{default:t(()=>[we]),_:1})]),_:2},1032,["onClick"])):q("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(u(),m(_,{key:1,onClick:p=>j(o.row.id),class:"text-grey-7 flex flex-center",flat:"","no-caps":""},{default:t(()=>[e(r,{name:"visibility",size:"xs"}),he]),_:2},1032,["onClick"]))])]),_:2},1032,["props"])]),_:1},8,["rows","selected","pagination"]),s("div",Ve,[e(z),s("div",ke,[J(" Resultado por p\xE1gina "),e(Y,{options:[5,10,15],modelValue:d(l).rowsPerPage,"onUpdate:modelValue":[i[4]||(i[4]=o=>d(l).rowsPerPage=o),b],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(Z,{modelValue:d(l).page,"onUpdate:modelValue":[i[5]||(i[5]=o=>d(l).page=o),b],max:c.jobVacancies.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{ze as default};
