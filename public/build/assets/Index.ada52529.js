import{_ as x}from"./AuthenticatedLayout.56960ce8.js";import{h as y,m as _,c as m,w as d,r as t,o,a as s,b as w,H as V,d as e,t as j,s as k,n as C,p as B,F as E,L as H}from"./app.cc606831.js";import"./AdminDialog.1d33fa88.js";const M={class:"row q-mb-lg"},N={class:"column col-12 col-md-6 justify-center"},$={class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"},z={class:"col-12 col-md-6 flex justify-end items-center"},F=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," sendMessage ",-1),L={class:"bg-white q-py-lg q-px-lg app-br-16"},O={class:"row justify-center adm-border-dashed-blue app-br-16"},D={style:{width:"100%","max-width":"80%"}},I={class:"col-12"},A={__name:"Index",props:{meeting:Object,errors:Object},setup(l){const i=l;y();const p=_([]),a=_(""),g=()=>{H.post(route("student.chat-message.send",i.meeting.id),{message:a.value}).then(()=>{a.value=null})};return window.Echo.channel(`chat-message.${i.meeting.id}`).listen(".chat-message",c=>{p.value=c.messages}),(c,u)=>{const r=t("q-breadcrumbs-el"),h=t("q-breadcrumbs"),b=t("q-icon"),f=t("q-btn"),q=t("q-chat-message"),v=t("q-input");return o(),m(x,null,{default:d(()=>[s(w(V),{title:"Chat"}),e("div",M,[e("div",N,[e("div",$,j(l.meeting.name),1),s(h,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:d(()=>[s(r,{label:"Home",class:"text-grey"}),s(r,{label:"Encontros",class:"text-grey"}),s(r,{label:l.meeting.name,class:"text-primary"},null,8,["label"])]),_:1})]),e("div",z,[a.value?(o(),m(f,{key:0,color:"primary",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:g},{default:d(()=>[s(b,{name:"o_play_arrow",size:"xs"}),F]),_:1})):k("",!0)])]),e("div",L,[e("div",O,[e("div",D,[(o(!0),C(E,null,B(p.value,n=>(o(),m(q,{name:n.user.name,text:[n.message],sent:n.user.id===c.$page.props.auth.user.id,size:"5"},null,8,["name","text","sent"]))),256))])]),e("div",I,[s(v,{outlined:"",modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=n=>a.value=n),label:"Mensagem"},null,8,["modelValue"])])])]),_:1})}}};export{A as default};
