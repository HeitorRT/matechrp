import{h as ne,u as _,m as C,j as ce,c as d,w as t,r as s,o as u,a as e,b as m,H as re,d as l,s as q,f as N,t as O}from"./app.cc606831.js";import{_ as ie}from"./AuthenticatedLayout.0bc0b363.js";import{_ as D}from"./DialogConfirm.f96873bf.js";const de={class:"row q-pb-xl"},ue={class:"column col-12 col-md-6 justify-center"},me=l("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Grupos de usu\xE1rio ",-1),pe={class:"col-12 col-md-6 flex justify-end items-center"},_e=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir selecionados ",-1),fe=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Novo grupo de usu\xE1rio ",-1),qe={class:"row q-col-gutter-sm"},ye={class:"col-12"},ge={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},be=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),xe=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),ve=["onClick"],we={class:"flex flex-center app-fw-700 app-fs-16"},ke={class:"app-fw-700 app-fs-16"},he=l("div",{class:"q-ml-sm"}," Editar ",-1),Ve=l("div",{class:"q-ml-sm"}," Visualizar ",-1),Ce=l("div",{class:"q-ml-sm"}," Excluir ",-1),Pe=l("div",{class:"q-ml-sm"}," Visualizar ",-1),ze={class:"row items-center text-grey"},Be={class:"row items-center text-grey"},$e={__name:"Index",props:{roles:Object,errors:Object,query:Object,canRoleStore:Boolean,canRoleEdit:Boolean,canRoleDestroy:Boolean},setup(r){const y=r,x=ne(),F=[{name:"name",align:"left",label:"Nome",field:"name",style:"width: 100%"},{name:"actions",label:"A\xE7\xE3o"}],a=_({orderBy:y.query.orderBy,sort:y.query.sort,page:y.query.page,rowsPerPage:y.query.rowsPerPage,filters:{name:y.query.filters.name}}),G=n=>{a.orderBy===n?a.sort=a.sort=="desc"?"asc":"desc":a.sort=="asc",a.orderBy=n,a.page=1,g()},H=n=>{a.filters[n]=null,g()},g=()=>{a.get(route("admin.role.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>v.value=!1})},T=()=>_().get(route("admin.role.create")),A=n=>_().get(route("admin.role.edit",n)),P=n=>_().get(route("admin.role.show",n));function I(n){x.dialog({component:D,componentProps:{title:"Excluir grupo",message:"Tem certeza que deseja excluir esse grupo?"}}).onOk(()=>{_().delete(route("admin.role.destroy",n),{onSuccess:()=>{x.notify({type:"positive",message:"Grupo exclu\xEDdo com sucesso",position:"top"})}})})}function L(){x.dialog({component:D,componentProps:{title:"Excluir selecionados",message:"Tem certeza que deseja excluir grupos selecionados?"}}).onOk(()=>{_({ids:b.value.map(n=>n.id)}).post(route("admin.role.destroy-multiples"),{onSuccess:()=>{b.value=[],x.notify({type:"positive",message:"Grupos exclu\xEDdos com sucesso",position:"top"})}})})}const b=C([]),z=ce(()=>Object.values(y.query.filters).filter(n=>n).length),v=C(!1),B=C("roles"),Q=()=>_().get(route("admin.user.index")),J=()=>_().get(route("admin.role.index"));return(n,c)=>{const U=s("q-breadcrumbs-el"),K=s("q-breadcrumbs"),i=s("q-icon"),f=s("q-btn"),j=s("q-tab"),M=s("q-tabs"),W=s("q-chip"),R=s("q-space"),X=s("q-badge"),Y=s("q-input"),$=s("q-menu"),w=s("q-card-section"),k=s("q-separator"),S=s("q-checkbox"),E=s("q-th"),h=s("q-item-section"),V=s("q-item"),Z=s("q-list"),ee=s("q-td"),oe=s("q-table"),te=s("q-select"),se=s("q-pagination"),le=s("q-card");return u(),d(ie,null,{default:t(()=>[e(m(re),{title:"Grupos de usu\xE1rio"}),l("div",de,[l("div",ue,[me,e(K,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:t(()=>[e(U,{label:"Home",class:"text-grey"}),e(U,{label:"Grupos de usu\xE1rio",class:"text-primary"})]),_:1})]),l("div",pe,[b.value.length>0&&r.canRoleDestroy?(u(),d(f,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:L},{default:t(()=>[e(i,{name:"close",size:"xs"}),_e]),_:1})):q("",!0),r.canRoleStore?(u(),d(f,{key:1,color:"primary",rounded:"","no-caps":"",onClick:T},{default:t(()=>[e(i,{name:"add",size:"xs"}),fe]),_:1})):q("",!0)])]),e(le,{flat:"",class:"app-br-16"},{default:t(()=>[e(M,{modelValue:B.value,"onUpdate:modelValue":c[0]||(c[0]=o=>B.value=o),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","no-caps":""},{default:t(()=>[e(j,{name:"users",label:"Usu\xE1rios",class:"q-py-md",onClick:Q}),e(j,{name:"roles",label:"Grupos de grupos",class:"q-py-md"})]),_:1},8,["modelValue"]),e(w,{class:"row items-center q-py-sm q-px-lg"},{default:t(()=>[r.query.filters.name?(u(),d(W,{key:0,class:"adm-chip-primary",label:`Nome = ${r.query.filters.name}`},{default:t(()=>[e(i,{name:"cancel",size:"xs",onClick:c[1]||(c[1]=o=>H("name")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):q("",!0),e(R),e(f,{round:"",dense:"",flat:"",color:"primary"},{default:t(()=>[m(z)?(u(),d(X,{key:0,color:"primary",floating:"",rounded:"",label:m(z)},null,8,["label"])):q("",!0),e(i,{name:"tune",class:"rotate-90"}),e($,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:v.value,"onUpdate:modelValue":c[3]||(c[3]=o=>v.value=o)},{default:t(()=>[l("div",qe,[l("div",ye,[e(Y,{outlined:"",modelValue:m(a).filters.name,"onUpdate:modelValue":c[2]||(c[2]=o=>m(a).filters.name=o),label:"Nome do grupo"},null,8,["modelValue"])])]),l("div",ge,[e(f,{color:"primary",rounded:"","no-caps":"",onClick:g},{default:t(()=>[e(i,{name:"check",size:"xs"}),be]),_:1}),e(f,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:J},{default:t(()=>[e(i,{name:"close",size:"xs"}),xe]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(w,{class:"q-py-none"},{default:t(()=>[e(k,{color:"grey-3"})]),_:1}),e(w,{class:"q-py-none"},{default:t(()=>[e(oe,{rows:r.roles.data,columns:F,flat:"",class:"text-grey-8",selected:b.value,"onUpdate:selected":c[4]||(c[4]=o=>b.value=o),selection:"multiple","hide-pagination":"",pagination:{rowsPerPage:m(a).rowsPerPage}},{"header-selection":t(o=>[e(S,{modelValue:o.selected,"onUpdate:modelValue":p=>o.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":t(o=>[e(S,{"model-value":o.selected,"onUpdate:modelValue":(p,ae)=>{Object.getOwnPropertyDescriptor(o,"selected").set(p,ae)}},null,8,["model-value","onUpdate:modelValue"])]),"header-cell":t(o=>[e(E,{props:o},{default:t(()=>[l("div",{class:"app-fw-700 app-fs-16 cursor-pointer",onClick:p=>G(o.col.name)},[N(O(o.col.label)+" ",1),o.col.name===r.query.orderBy?(u(),d(i,{key:0,name:r.query.sort=="desc"?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])):q("",!0)],8,ve)]),_:2},1032,["props"])]),"header-cell-actions":t(o=>[e(E,{props:o,"auto-width":""},{default:t(()=>[l("div",we,O(o.col.label),1)]),_:2},1032,["props"])]),"body-cell-actions":t(o=>[e(ee,{props:o},{default:t(()=>[l("div",ke,[r.canRoleEdit||r.canRoleDestroy?(u(),d(f,{key:0,icon:"more_vert",flat:""},{default:t(()=>[e($,{offset:[65,0]},{default:t(()=>[e(Z,null,{default:t(()=>[r.canRoleEdit?(u(),d(V,{key:0,clickable:"",onClick:p=>A(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(i,{name:"edit",size:"xs"}),e(h,{"no-wrap":""},{default:t(()=>[he]),_:1})]),_:2},1032,["onClick"])):q("",!0),e(k),e(V,{clickable:"",onClick:p=>P(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(i,{name:"visibility",size:"xs"}),e(h,{"no-wrap":""},{default:t(()=>[Ve]),_:1})]),_:2},1032,["onClick"]),e(k),r.canRoleDestroy?(u(),d(V,{key:1,clickable:"",onClick:p=>I(o.row.id),class:"text-grey-7 flex flex-center"},{default:t(()=>[e(i,{name:"close",size:"xs"}),e(h,{"no-wrap":""},{default:t(()=>[Ce]),_:1})]),_:2},1032,["onClick"])):q("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(u(),d(f,{key:1,onClick:p=>P(o.row.id),class:"text-grey-7 flex flex-center text-no-wrap",flat:"","no-caps":""},{default:t(()=>[e(i,{name:"visibility",size:"xs"}),Pe]),_:2},1032,["onClick"]))])]),_:2},1032,["props"])]),_:1},8,["rows","selected","pagination"]),l("div",ze,[e(R),l("div",Be,[N(" Resultado por p\xE1gina "),e(te,{options:[5,10,15],modelValue:m(a).rowsPerPage,"onUpdate:modelValue":[c[5]||(c[5]=o=>m(a).rowsPerPage=o),g],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(se,{modelValue:m(a).page,"onUpdate:modelValue":[c[6]||(c[6]=o=>m(a).page=o),g],max:r.roles.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{$e as default};
