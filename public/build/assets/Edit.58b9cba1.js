import{_ as R}from"./AuthenticatedLayout.0bc0b363.js";import{h as S,u as U,j as L,m as $,c as w,w as a,r as l,o as g,a as t,b as o,H as A,d as e,s as F,t as h,f as x,n as C,B,C as k,D as V,y as H}from"./app.cc606831.js";import{_ as T}from"./DialogConfirm.f96873bf.js";import{u as Q}from"./index.common.8f199d34.js";const X={class:"row q-mb-lg"},Z={class:"column col-12 col-md-6 justify-center"},G=e("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Editar brinde ",-1),J={class:"col-12 col-md-6 flex justify-end items-center"},K=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir Brinde ",-1),M=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar ",-1),W={class:"bg-white q-py-lg q-px-lg app-br-16"},Y={class:"row q-col-gutter-lg"},ee=e("div",{class:"col-12 items-center q-mt-xs"},[e("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),te={class:"col-12 col-md-6"},se={class:"text-red"},oe={class:"col-12 col-md-6"},ae={class:"text-red"},ie={class:"col-12 col-md-12"},ne={class:"text-red"},le={class:"col-12 items-center q-mt-xs"},ce={class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"},re={key:0,class:"col-12 col-md-6"},me={class:"absolute-bottom text-subtitle2 row items-center"},de={key:1,class:"col-12"},pe=e("div",{class:"q-mt-sm"}," Clique aqui ou arraste sua imagem ",-1),he={__name:"Edit",props:{item:Object,errors:Object,campaigns:Array,canItemDestroy:Boolean},setup(c){const r=c,p=S(),s=U({id:r.item.id,name:r.item.name,description:r.item.description,campaign_id:r.item.campaign_id,image:r.item.image}),u=Q({onDrop:(m,i)=>{s.image=m[0],i.length>0&&p.notify({message:"Insira apenas uma imagem",position:"center"})},accept:["image/*"],maxFiles:1}),q=L(()=>s.image?typeof s.image=="object"?URL.createObjectURL(s.image):s.image:""),z=()=>s.image=null,I=()=>{s.transform(m=>({...m,_method:"put"})).post(route("admin.item.update",s.id),{onSuccess:()=>{p.notify({type:"positive",message:"Brinde atualizado com sucesso",position:"top"})}})};function j(){p.dialog({component:T,componentProps:{title:"Excluir brinde",message:"Tem certeza que deseja excluir esse brinde?"}}).onOk(()=>{H.Inertia.delete(route("admin.item.destroy",s.id),{onSuccess:()=>{p.notify({type:"positive",message:"Brinde exclu\xEDdo com sucesso",position:"top"})}})})}const v=$(r.campaigns),P=(m,i,_)=>{i(()=>v.value=r.campaigns.filter(f=>f.name.toLowerCase().indexOf(m.toLowerCase())>-1))};return(m,i)=>{const _=l("q-breadcrumbs-el"),f=l("q-breadcrumbs"),d=l("q-icon"),b=l("q-btn"),y=l("q-input"),D=l("q-chip"),E=l("q-select"),N=l("q-tooltip"),O=l("q-img");return g(),w(R,null,{default:a(()=>[t(o(A),{title:"Brinde | Editar"}),e("div",X,[e("div",Z,[G,t(f,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:a(()=>[t(_,{label:"Home",class:"text-grey"}),t(_,{label:"Brindes",class:"text-grey"}),t(_,{label:"Editar brinde",class:"text-primary"})]),_:1})]),e("div",J,[c.canItemDestroy?(g(),w(b,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:j},{default:a(()=>[t(d,{name:"close",size:"xs"}),K]),_:1})):F("",!0),t(b,{color:"primary",rounded:"","no-caps":"",onClick:I,disabled:o(s).processing},{default:a(()=>[t(d,{name:"check",size:"xs"}),M]),_:1},8,["disabled"])])]),e("div",W,[e("div",Y,[ee,e("div",te,[t(y,{outlined:"",modelValue:o(s).name,"onUpdate:modelValue":i[0]||(i[0]=n=>o(s).name=n),label:"Nome *","bottom-slots":Boolean(c.errors.name)},{hint:a(()=>[e("div",se,h(c.errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",oe,[t(E,{options:v.value,"option-value":"id","option-label":"name","emit-value":"","map-options":"",outlined:"",modelValue:o(s).campaign_id,"onUpdate:modelValue":i[1]||(i[1]=n=>o(s).campaign_id=n),label:"Campanha","bottom-slots":Boolean(c.errors.campaign_id),clearable:"","use-chips":"","use-input":"",onFilter:P},{hint:a(()=>[e("div",ae,h(c.errors.campaigns),1)]),"selected-item":a(n=>[t(D,{class:"adm-chip-primary q-my-none",label:n.opt.name,dense:""},{default:a(()=>[t(d,{name:"cancel",size:"xs",onClick:ue=>n.removeAtIndex(n.index),class:"q-ml-xs cursor-pointer"},null,8,["onClick"])]),_:2},1032,["label"])]),_:1},8,["options","modelValue","bottom-slots"])]),e("div",ie,[t(y,{outlined:"",modelValue:o(s).description,"onUpdate:modelValue":i[2]||(i[2]=n=>o(s).description=n),label:"Descri\xE7\xE3o","bottom-slots":Boolean(c.errors.description),type:"textarea"},{hint:a(()=>[e("div",ne,h(c.errors.description),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",le,[e("div",ce,[x(" Imagem de capa "),t(d,{name:"help_outline",size:"xs",class:"cursor-pointer"},{default:a(()=>[t(N,{anchor:"center right",self:"center left",offset:[10,10],class:"text-body2 bg-grey-10"},{default:a(()=>[x(" Tamanho recomendado: 800px X 600px ")]),_:1})]),_:1})])]),o(q)?(g(),C("div",re,[t(O,{src:o(q),style:{height:"400px"},class:"app-br-16"},{default:a(()=>[e("div",me,[t(d,{name:"o_photo",size:"md",class:"q-mr-md"}),t(b,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:z}),e("div",B({class:"flex cursor-pointer"},o(u).getRootProps()),[e("input",k(V(o(u).getInputProps())),null,16),x(" Alterar imagem ")],16)])]),_:1},8,["src"])])):(g(),C("div",de,[e("div",B(o(u).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[e("input",k(V(o(u).getInputProps())),null,16),t(d,{name:"o_photo",size:"md"}),pe],16)]))])])]),_:1})}}};export{he as default};
