import{h as oe,u as f,m as $,j as se,c as d,w as t,r as s,o as m,a as e,b as u,H as ae,d as a,s as q,f as U,t as E}from"./app.cc606831.js";import{_ as le}from"./AuthenticatedLayout.0bc0b363.js";import{_ as N}from"./DialogConfirm.f96873bf.js";const ne={class:"row q-pb-xl"},ce={class:"column col-12 col-md-6 justify-center"},re=a("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Brindes ",-1),ie={class:"col-12 col-md-6 flex justify-end items-center"},de=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir selecionados ",-1),me=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Novo brinde ",-1),ue={class:"row q-col-gutter-sm"},pe={class:"col-12"},_e={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},fe=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),qe=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),ye=["onClick"],ge={class:"row items-center justify-center app-fw-700 app-fs-16"},be={class:"row items-center justify-center app-fw-700 app-fs-16"},xe=a("div",{class:"q-ml-sm"}," Editar ",-1),ve=a("div",{class:"q-ml-sm"}," Visualizar ",-1),we=a("div",{class:"q-ml-sm"}," Excluir ",-1),he=a("div",{class:"q-ml-sm"}," Visualizar ",-1),ke={class:"row items-center text-grey"},Ve={class:"row items-center text-grey"},ze={__name:"Index",props:{items:Object,errors:Object,query:Object,canItemStore:Boolean,canItemEdit:Boolean,canItemDestroy:Boolean},setup(c){const y=c,x=oe(),O=[{name:"name",align:"left",label:"Nome",field:"name",style:"width: 50%"},{name:"campaign_name",align:"left",label:"Campanha",field:l=>l.campaign.name,style:"width: 50%"},{name:"actions",label:"A\xE7\xE3o"}],n=f({orderBy:y.query.orderBy,sort:y.query.sort,page:y.query.page,rowsPerPage:y.query.rowsPerPage,filters:{name:y.query.filters.name}}),D=l=>{n.orderBy===l?n.sort=n.sort=="desc"?"asc":"desc":n.sort=="asc",n.orderBy=l,n.page=1,g()},F=l=>{n.filters[l]=null,g()},g=()=>{n.get(route("admin.item.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>v.value=!1})},H=()=>f().get(route("admin.item.create")),T=l=>f().get(route("admin.item.edit",l)),C=l=>f().get(route("admin.item.show",l));function A(l){x.dialog({component:N,componentProps:{title:"Excluir brinde",message:"Tem certeza que deseja excluir esse brinde?"}}).onOk(()=>{f().delete(route("admin.item.destroy",l),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.notify({type:"positive",message:"Brinde exclu\xEDdo com sucesso",position:"top"})}})})}function L(){x.dialog({component:N,componentProps:{title:"Excluir selecionados",message:"Tem certeza que deseja excluir brindes selecionadas?"}}).onOk(()=>{f({ids:b.value.map(l=>l.id)}).post(route("admin.item.destroy-multiples"),{onSuccess:()=>{b.value=[],x.notify({type:"positive",message:"Brindes exclu\xEDdos com sucesso",position:"top"})}})})}const b=$([]),B=se(()=>Object.values(y.query.filters).filter(l=>l).length),v=$(!1),Q=()=>f().get(route("admin.item.index"));return(l,r)=>{const P=s("q-breadcrumbs-el"),R=s("q-breadcrumbs"),i=s("q-icon"),_=s("q-btn"),G=s("q-chip"),z=s("q-space"),J=s("q-badge"),K=s("q-input"),j=s("q-menu"),w=s("q-card-section"),h=s("q-separator"),S=s("q-checkbox"),I=s("q-th"),k=s("q-item-section"),V=s("q-item"),M=s("q-list"),W=s("q-td"),X=s("q-table"),Y=s("q-select"),Z=s("q-pagination"),ee=s("q-card");return m(),d(le,null,{default:t(()=>[e(u(ae),{title:"Brindes"}),a("div",ne,[a("div",ce,[re,e(R,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:t(()=>[e(P,{label:"Home",class:"text-grey"}),e(P,{label:"Brindes",class:"text-primary"})]),_:1})]),a("div",ie,[b.value.length>0&&c.canItemDestroy?(m(),d(_,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:L},{default:t(()=>[e(i,{name:"close",size:"xs"}),de]),_:1})):q("",!0),c.canItemStore?(m(),d(_,{key:1,color:"primary",rounded:"","no-caps":"",onClick:H},{default:t(()=>[e(i,{name:"add",size:"xs"}),me]),_:1})):q("",!0)])]),e(ee,{flat:"",class:"app-br-16"},{default:t(()=>[e(w,{class:"row items-center q-py-sm q-px-lg"},{default:t(()=>[c.query.filters.name?(m(),d(G,{key:0,class:"adm-chip-primary",label:`Nome = ${c.query.filters.name}`},{default:t(()=>[e(i,{name:"cancel",size:"xs",onClick:r[0]||(r[0]=o=>F("name")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):q("",!0),e(z),e(_,{round:"",dense:"",flat:"",color:"primary"},{default:t(()=>[u(B)?(m(),d(J,{key:0,color:"primary",floating:"",rounded:"",label:u(B)},null,8,["label"])):q("",!0),e(i,{name:"tune",class:"rotate-90"}),e(j,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:v.value,"onUpdate:modelValue":r[2]||(r[2]=o=>v.value=o)},{default:t(()=>[a("div",ue,[a("div",pe,[e(K,{outlined:"",modelValue:u(n).filters.name,"onUpdate:modelValue":r[1]||(r[1]=o=>u(n).filters.name=o),label:"Nome do brinde"},null,8,["modelValue"])])]),a("div",_e,[e(_,{color:"primary",rounded:"","no-caps":"",onClick:g},{default:t(()=>[e(i,{name:"check",size:"xs"}),fe]),_:1}),e(_,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:Q},{default:t(()=>[e(i,{name:"close",size:"xs"}),qe]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(w,{class:"q-py-none"},{default:t(()=>[e(h,{color:"grey-3"})]),_:1}),e(w,{class:"q-py-none"},{default:t(()=>[e(X,{rows:c.items.data,columns:O,flat:"",class:"text-grey-8",selected:b.value,"onUpdate:selected":r[3]||(r[3]=o=>b.value=o),selection:"multiple","hide-pagination":"",pagination:{rowsPerPage:u(n).rowsPerPage}},{"header-selection":t(o=>[e(S,{modelValue:o.selected,"onUpdate:modelValue":p=>o.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":t(o=>[e(S,{"model-value":o.selected,"onUpdate:modelValue":(p,te)=>{Object.getOwnPropertyDescriptor(o,"selected").set(p,te)}},null,8,["model-value","onUpdate:modelValue"])]),"header-cell":t(o=>[e(I,{props:o},{default:t(()=>[a("div",{class:"app-fw-700 app-fs-16 cursor-pointer",onClick:p=>D(o.col.name)},[U(E(o.col.label)+" ",1),o.col.name===c.query.orderBy?(m(),d(i,{key:0,name:c.query.sort=="desc"?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])):q("",!0)],8,ye)]),_:2},1032,["props"])]),"header-cell-actions":t(o=>[e(I,{props:o,"auto-width":""},{default:t(()=>[a("div",ge,E(o.col.label),1)]),_:2},1032,["props"])]),"body-cell-actions":t(o=>[e(W,{props:o},{default:t(()=>[a("div",be,[c.canItemEdit||c.canItemDestroy?(m(),d(_,{key:0,icon:"more_vert",flat:""},{default:t(()=>[e(j,{offset:[65,0]},{default:t(()=>[e(M,null,{default:t(()=>[c.canItemEdit?(m(),d(V,{key:0,clickable:"",onClick:p=>T(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(i,{name:"edit",size:"xs"}),e(k,{"no-wrap":""},{default:t(()=>[xe]),_:1})]),_:2},1032,["onClick"])):q("",!0),e(h),e(V,{clickable:"",onClick:p=>C(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(i,{name:"visibility",size:"xs"}),e(k,{"no-wrap":""},{default:t(()=>[ve]),_:1})]),_:2},1032,["onClick"]),e(h),c.canItemDestroy?(m(),d(V,{key:1,clickable:"",onClick:p=>A(o.row.id),class:"text-grey-7 flex flex-center"},{default:t(()=>[e(i,{name:"close",size:"xs"}),e(k,{"no-wrap":""},{default:t(()=>[we]),_:1})]),_:2},1032,["onClick"])):q("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(m(),d(_,{key:1,onClick:p=>C(o.row.id),class:"text-grey-7 flex flex-center",flat:"","no-caps":""},{default:t(()=>[e(i,{name:"visibility",size:"xs"}),he]),_:2},1032,["onClick"]))])]),_:2},1032,["props"])]),_:1},8,["rows","selected","pagination"]),a("div",ke,[e(z),a("div",Ve,[U(" Resultado por p\xE1gina "),e(Y,{options:[5,10,15],modelValue:u(n).rowsPerPage,"onUpdate:modelValue":[r[4]||(r[4]=o=>u(n).rowsPerPage=o),g],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(Z,{modelValue:u(n).page,"onUpdate:modelValue":[r[5]||(r[5]=o=>u(n).page=o),g],max:c.items.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{ze as default};
