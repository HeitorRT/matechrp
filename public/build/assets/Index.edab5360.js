import{h as te,u as q,m as S,j as oe,c as m,w as o,r as a,o as u,a as e,b as d,H as ae,d as s,s as _,f as N,t as se}from"./app.cc606831.js";import{_ as le}from"./AuthenticatedLayout.0bc0b363.js";import{_ as O}from"./DialogConfirm.f96873bf.js";const ne={class:"row q-pb-xl"},ie={class:"column col-12 col-md-6 justify-center"},ce=s("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Indica\xE7\xF5es ",-1),re={class:"col-12 col-md-6 flex justify-end items-center"},de=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir selecionados ",-1),me=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Nova indica\xE7\xE3o ",-1),ue={class:"row q-col-gutter-sm"},pe={class:"col-12"},_e={class:"col-12"},fe={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},ye=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),qe=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),ge=["onClick"],be={class:"row items-center justify-center app-fw-700 app-fs-16"},xe=s("div",{class:"q-ml-sm"}," Editar ",-1),ve=s("div",{class:"q-ml-sm"}," Visualizar ",-1),we=s("div",{class:"q-ml-sm"}," Excluir ",-1),ke=s("div",{class:"q-ml-sm"}," Visualizar ",-1),he={class:"row items-center text-grey"},Ve={class:"row items-center text-grey"},ze={__name:"Index",props:{indications:Object,errors:Object,query:Object,canIndicationStore:Boolean,canIndicationEdit:Boolean,canIndicationDestroy:Boolean},setup(i){const f=i,x=te(),D=[{name:"name",align:"left",label:"Nome",field:"name",style:"width: 40%"},{name:"company_name",align:"left",label:"Empresa",field:"company_name",style:"width: 30%"},{name:"email",align:"left",label:"E-mail",field:"email",style:"width: 30%"},{name:"actions",label:"A\xE7\xE3o"}],l=q({orderBy:f.query.orderBy,sort:f.query.sort,page:f.query.page,rowsPerPage:f.query.rowsPerPage,filters:{name:f.query.filters.name,email:f.query.filters.email}}),F=c=>{l.orderBy===c?l.sort=l.sort=="desc"?"asc":"desc":l.sort=="asc",l.orderBy=c,l.page=1,g()},C=c=>{l.filters[c]=null,g()},g=()=>{l.get(route("admin.indication.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>v.value=!1})},H=()=>q().get(route("admin.indication.create")),T=c=>q().get(route("admin.indication.edit",c)),I=c=>q().get(route("admin.indication.show",c));function A(c){x.dialog({component:O,componentProps:{title:"Excluir indica\xE7\xE3o",message:"Tem certeza que deseja excluir essa indica\xE7\xE3o?"}}).onOk(()=>{q().delete(route("admin.indication.destroy",c),{onSuccess:()=>{x.notify({type:"positive",message:"Indica\xE7\xE3o exclu\xEDda com sucesso",position:"top"})}})})}function L(){x.dialog({component:O,componentProps:{title:"Excluir selecionados",message:"Tem certeza que deseja excluir indica\xE7\xF5es selecionadas?"}}).onOk(()=>{q({ids:b.value.map(c=>c.id)}).post(route("admin.indication.destroy-multiples"),{onSuccess:()=>{b.value=[],x.notify({type:"positive",message:"Indica\xE7\xF5es exclu\xEDdas com sucesso",position:"top"})}})})}const b=S([]),P=oe(()=>Object.values(f.query.filters).filter(c=>c).length),v=S(!1),Q=()=>q().get(route("admin.indication.index"));return(c,n)=>{const z=a("q-breadcrumbs-el"),R=a("q-breadcrumbs"),r=a("q-icon"),y=a("q-btn"),B=a("q-chip"),E=a("q-space"),G=a("q-badge"),$=a("q-input"),j=a("q-menu"),w=a("q-card-section"),k=a("q-separator"),U=a("q-checkbox"),J=a("q-th"),h=a("q-item-section"),V=a("q-item"),K=a("q-list"),M=a("q-td"),W=a("q-table"),X=a("q-select"),Y=a("q-pagination"),Z=a("q-card");return u(),m(le,null,{default:o(()=>[e(d(ae),{title:"Indica\xE7\xF5es"}),s("div",ne,[s("div",ie,[ce,e(R,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:o(()=>[e(z,{label:"Home",class:"text-grey"}),e(z,{label:"Indica\xE7\xF5es",class:"text-primary"})]),_:1})]),s("div",re,[b.value.length>0&&i.canIndicationDestroy?(u(),m(y,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:L},{default:o(()=>[e(r,{name:"close",size:"xs"}),de]),_:1})):_("",!0),i.canIndicationStore?(u(),m(y,{key:1,color:"primary",rounded:"","no-caps":"",onClick:H},{default:o(()=>[e(r,{name:"add",size:"xs"}),me]),_:1})):_("",!0)])]),e(Z,{flat:"",class:"app-br-16"},{default:o(()=>[e(w,{class:"row items-center q-py-sm q-px-lg"},{default:o(()=>[i.query.filters.name?(u(),m(B,{key:0,class:"adm-chip-primary",label:`Nome = ${i.query.filters.name}`},{default:o(()=>[e(r,{name:"cancel",size:"xs",onClick:n[0]||(n[0]=t=>C("name")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):_("",!0),i.query.filters.email?(u(),m(B,{key:1,class:"adm-chip-primary",label:`E-mail = ${i.query.filters.email}`},{default:o(()=>[e(r,{name:"cancel",size:"xs",onClick:n[1]||(n[1]=t=>C("email")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):_("",!0),e(E),e(y,{round:"",dense:"",flat:"",color:"primary"},{default:o(()=>[d(P)?(u(),m(G,{key:0,color:"primary",floating:"",rounded:"",label:d(P)},null,8,["label"])):_("",!0),e(r,{name:"tune",class:"rotate-90"}),e(j,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:v.value,"onUpdate:modelValue":n[4]||(n[4]=t=>v.value=t)},{default:o(()=>[s("div",ue,[s("div",pe,[e($,{outlined:"",modelValue:d(l).filters.name,"onUpdate:modelValue":n[2]||(n[2]=t=>d(l).filters.name=t),label:"Nome da indica\xE7\xE3o"},null,8,["modelValue"])]),s("div",_e,[e($,{outlined:"",modelValue:d(l).filters.email,"onUpdate:modelValue":n[3]||(n[3]=t=>d(l).filters.email=t),label:"Email"},null,8,["modelValue"])])]),s("div",fe,[e(y,{color:"primary",rounded:"","no-caps":"",onClick:g},{default:o(()=>[e(r,{name:"check",size:"xs"}),ye]),_:1}),e(y,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:Q},{default:o(()=>[e(r,{name:"close",size:"xs"}),qe]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(w,{class:"q-py-none"},{default:o(()=>[e(k,{color:"grey-3"})]),_:1}),e(w,{class:"q-py-none"},{default:o(()=>[e(W,{rows:i.indications.data,columns:D,flat:"",class:"text-grey-8",selected:b.value,"onUpdate:selected":n[5]||(n[5]=t=>b.value=t),selection:"multiple","hide-pagination":"",pagination:{rowsPerPage:d(l).rowsPerPage}},{"header-selection":o(t=>[e(U,{modelValue:t.selected,"onUpdate:modelValue":p=>t.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":o(t=>[e(U,{"model-value":t.selected,"onUpdate:modelValue":(p,ee)=>{Object.getOwnPropertyDescriptor(t,"selected").set(p,ee)}},null,8,["model-value","onUpdate:modelValue"])]),"header-cell":o(t=>[e(J,{props:t},{default:o(()=>[s("div",{class:"app-fw-700 app-fs-16 cursor-pointer",onClick:p=>F(t.col.name)},[N(se(t.col.label)+" ",1),t.col.name===i.query.orderBy?(u(),m(r,{key:0,name:i.query.sort=="desc"?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])):_("",!0)],8,ge)]),_:2},1032,["props"])]),"body-cell-actions":o(t=>[e(M,{props:t},{default:o(()=>[s("div",be,[i.canIndicationEdit||i.canIndicationDestroy?(u(),m(y,{key:0,icon:"more_vert",flat:""},{default:o(()=>[e(j,{offset:[65,0]},{default:o(()=>[e(K,null,{default:o(()=>[i.canIndicationEdit?(u(),m(V,{key:0,clickable:"",onClick:p=>T(t.row.id),class:"text-grey-7 flex items-center"},{default:o(()=>[e(r,{name:"edit",size:"xs"}),e(h,{"no-wrap":""},{default:o(()=>[xe]),_:1})]),_:2},1032,["onClick"])):_("",!0),e(k),e(V,{clickable:"",onClick:p=>I(t.row.id),class:"text-grey-7 flex items-center"},{default:o(()=>[e(r,{name:"visibility",size:"xs"}),e(h,{"no-wrap":""},{default:o(()=>[ve]),_:1})]),_:2},1032,["onClick"]),e(k),i.canIndicationDestroy?(u(),m(V,{key:1,clickable:"",onClick:p=>A(t.row.id),class:"text-grey-7 flex flex-center"},{default:o(()=>[e(r,{name:"close",size:"xs"}),e(h,{"no-wrap":""},{default:o(()=>[we]),_:1})]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(u(),m(y,{key:1,onClick:p=>I(t.row.id),class:"text-grey-7 flex flex-center",flat:"","no-caps":""},{default:o(()=>[e(r,{name:"visibility",size:"xs"}),ke]),_:2},1032,["onClick"]))])]),_:2},1032,["props"])]),_:1},8,["rows","selected","pagination"]),s("div",he,[e(E),s("div",Ve,[N(" Resultado por p\xE1gina "),e(X,{options:[5,10,15],modelValue:d(l).rowsPerPage,"onUpdate:modelValue":[n[6]||(n[6]=t=>d(l).rowsPerPage=t),g],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(Y,{modelValue:d(l).page,"onUpdate:modelValue":[n[7]||(n[7]=t=>d(l).page=t),g],max:i.indications.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{ze as default};
