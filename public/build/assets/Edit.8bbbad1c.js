import{_ as I}from"./AuthenticatedLayout.0bc0b363.js";import{h as N,u as y,j as O,c as R,w as l,r,o as g,a as s,b as n,H as S,d as e,t as b,f as h,n as v,B as w,C as V,D as k}from"./app.cc606831.js";import{u as T}from"./index.common.8f199d34.js";import{_ as U}from"./DialogConfirm.f96873bf.js";const D={class:"row q-mb-lg"},A={class:"column col-12 col-md-6 justify-center"},H={class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"},F={class:"col-12 col-md-6 flex justify-end items-center"},L=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir temporada ",-1),Q=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar ",-1),X={class:"bg-white q-py-lg q-px-lg app-br-16"},Z={class:"row q-col-gutter-lg"},G=e("div",{class:"col-12 items-center q-mt-xs"},[e("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),J={class:"col-12 col-md-3"},K={class:"text-red"},M={class:"col-12 col-md-6"},W={class:"text-red"},Y={class:"col-12 col-md-3"},ee={class:"text-red"},oe={class:"col-12 items-center q-mt-xs"},se={class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"},te={key:0,class:"col-12"},ae={class:"absolute-bottom text-subtitle2 row items-center"},ne={key:1,class:"col-12"},le=e("div",{class:"q-mt-sm"}," Clique aqui ou arraste sua imagem ",-1),de={__name:"Edit",props:{content:Object,season:Object,errors:Object,numbers:Array},setup(a){const i=a,d=N(),t=y({id:i.season.id,name:i.season.name,number_of_chapters:i.season.number_of_chapters,number:i.season.number,image:i.season.image}),p=T({onDrop:(u,c)=>{c.length>0?d.notify({message:"Insira apenas uma imagem",position:"center"}):t.image=u[0]},accept:["image/*"],maxFiles:1}),x=O(()=>t.image==null?"":typeof t.image=="object"?URL.createObjectURL(t.image):t.image),z=()=>t.image=null,j=()=>{t.transform(u=>({...u,_method:"put"})).post(route("admin.content.season.update",{content:i.content.id,season:i.season.id}),{onSuccess:()=>{d.notify({type:"positive",message:`Temporada ${t.name} atualizada com sucesso`,position:"top"})}})};function C(){d.dialog({component:U,componentProps:{title:"Excluir temporada",message:"Tem certeza que deseja excluir essa temporada?"}}).onOk(()=>{y().delete(route("admin.content.season.destroy",{content:i.content.id,season:i.season.id}),{onSuccess:()=>{d.notify({type:"positive",message:"Temporada exclu\xEDdo com sucesso",position:"top"})}})})}return(u,c)=>{const _=r("q-breadcrumbs-el"),B=r("q-breadcrumbs"),m=r("q-icon"),f=r("q-btn"),q=r("q-select"),P=r("q-input"),$=r("q-tooltip"),E=r("q-img");return g(),R(I,null,{default:l(()=>[s(n(S),{title:a.content.name},null,8,["title"]),e("div",D,[e("div",A,[e("div",H," Editar temporada: "+b(a.season.name),1),s(B,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:l(()=>[s(_,{label:"Home",class:"text-grey"}),s(_,{label:"Conte\xFAdos",class:"text-grey"}),s(_,{label:a.content.name,class:"text-grey"},null,8,["label"]),s(_,{label:`Editar temporada: ${a.season.name}`,class:"text-primary"},null,8,["label"])]),_:1})]),e("div",F,[s(f,{color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:C},{default:l(()=>[s(m,{name:"close",size:"xs"}),L]),_:1}),s(f,{color:"primary",rounded:"","no-caps":"",onClick:j,disabled:n(t).processing},{default:l(()=>[s(m,{name:"check",size:"xs"}),Q]),_:1},8,["disabled"])])]),e("div",X,[e("div",Z,[G,e("div",J,[s(q,{"option-value":"position",options:a.numbers,"option-disable":o=>!o.empty,"option-label":o=>o.empty?o.position:`${o.position} (em uso)`,"emit-value":"","map-options":"",outlined:"",modelValue:n(t).number,"onUpdate:modelValue":c[0]||(c[0]=o=>n(t).number=o),label:"N\xFAmero da temporada *","bottom-slots":Boolean(a.errors.number)},{hint:l(()=>[e("div",K,b(a.errors.number),1)]),_:1},8,["options","option-disable","option-label","modelValue","bottom-slots"])]),e("div",M,[s(P,{outlined:"",modelValue:n(t).name,"onUpdate:modelValue":c[1]||(c[1]=o=>n(t).name=o),label:"Nome","bottom-slots":Boolean(a.errors.name)},{hint:l(()=>[e("div",W,b(a.errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",Y,[s(q,{options:[...Array(50).keys()].map(o=>++o),"option-disable":o=>o<a.season.count_chapters,"option-label":o=>o<a.season.count_chapters?`${o} (desabilitado)`:o,outlined:"",modelValue:n(t).number_of_chapters,"onUpdate:modelValue":c[2]||(c[2]=o=>n(t).number_of_chapters=o),label:"Quantidade de epis\xF3dios","bottom-slots":Boolean(a.errors.number_of_chapters)},{hint:l(()=>[e("div",ee,b(a.errors.number_of_chapters),1)]),_:1},8,["options","option-disable","option-label","modelValue","bottom-slots"])]),e("div",oe,[e("div",se,[h(" Capa principal "),s(m,{name:"help_outline",size:"xs",class:"cursor-pointer"},{default:l(()=>[s($,{anchor:"center right",self:"center left",offset:[10,10],class:"text-body2 bg-grey-10"},{default:l(()=>[h(" Tamanho recomendado: 800px X 600px ")]),_:1})]),_:1})])]),n(x)?(g(),v("div",te,[s(E,{src:n(x),style:{height:"400px"},class:"app-br-16"},{default:l(()=>[e("div",ae,[s(m,{name:"o_photo",size:"md",class:"q-mr-md"}),s(f,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:z}),e("div",w({class:"flex cursor-pointer"},n(p).getRootProps()),[e("input",V(k(n(p).getInputProps())),null,16),h(" Alterar imagem ")],16)])]),_:1},8,["src"])])):(g(),v("div",ne,[e("div",w(n(p).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[e("input",V(k(n(p).getInputProps())),null,16),s(m,{name:"o_photo",size:"md"}),le],16)]))])])]),_:1})}}};export{de as default};
