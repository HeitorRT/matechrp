import{h as oe,u as _,m as O,j as se,c as q,w as o,r as s,o as u,a as e,b as i,H as le,d as l,s as g,n as S,f as E,t as F}from"./app.cc606831.js";import{_ as ne}from"./AuthenticatedLayout.0bc0b363.js";import{_ as N}from"./DialogConfirm.f96873bf.js";const ae={class:"row q-pb-xl"},re={class:"column col-12 col-md-6 justify-center"},ce=l("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Perguntas frenquentes ",-1),ie={class:"col-12 col-md-6 flex justify-end items-center"},de=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir selecionados ",-1),ue=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Nova pergunta ",-1),me={class:"row q-col-gutter-sm"},pe={class:"col-12"},_e={class:"col-12"},qe={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},fe=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),ye=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),xe={class:"row items-center app-fw-700 app-fs-16"},ge=["onClick"],be={key:1},we=l("div",{class:"q-ml-sm"}," Editar ",-1),ve=l("div",{class:"q-ml-sm"}," Visualizar ",-1),ke=l("div",{class:"q-ml-sm"}," Excluir ",-1),he={class:"row items-center text-grey"},Ve={class:"row items-center text-grey"},Be={__name:"Index",props:{commonQuestions:Object,errors:Object,query:Object},setup(d){const m=d,b=oe(),Q=[{name:"question_text",align:"left",label:"Pergunta",field:"question_text",sorteable:!0},{name:"answer_text",align:"left",label:"Resposta",field:"answer_text",sorteable:!0},{name:"actions",align:"center",label:"A\xE7\xE3o"}],n=_({orderBy:m.query.orderBy,sort:m.query.sort,page:m.query.page,rowsPerPage:m.query.rowsPerPage,filters:{answer_text:m.query.filters.answer_text,question_text:m.query.filters.question_text}}),R=r=>{n.orderBy===r?n.sort=n.sort=="desc"?"asc":"desc":n.sort=="asc",n.orderBy=r,n.page=1,y()},V=r=>{n.filters[r]=null,y()},y=()=>{n.get(route("admin.common-question.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>w.value=!1})},D=()=>_().get(route("admin.common-question.create")),H=r=>_().get(route("admin.common-question.edit",r)),T=r=>_().get(route("admin.common-question.show",r));function A(r){b.dialog({component:N,componentProps:{title:"Excluir Pergunta",message:"Tem certeza que deseja excluir essa pergunta?"}}).onOk(()=>{_().delete(route("admin.common-question.destroy",r),{onSuccess:()=>{b.notify({type:"positive",message:"Pergunta exclu\xEDdo com sucesso",position:"top"})}})})}function I(){b.dialog({component:N,componentProps:{title:"Excluir selecionados",message:"Tem certeza que deseja excluir perguntas selecionadas?"}}).onOk(()=>{_({ids:x.value.map(r=>r.id)}).post(route("admin.common-question.destroy-multiples"),{onSuccess:()=>{x.value=[],b.notify({type:"positive",message:"Perguntas exclu\xEDdas com sucesso",position:"top"})}})})}const x=O([]),P=se(()=>Object.values(m.query.filters).filter(r=>r).length),w=O(!1),L=()=>_().get(route("admin.common-question.index"));return(r,a)=>{const C=s("q-breadcrumbs-el"),G=s("q-breadcrumbs"),c=s("q-icon"),f=s("q-btn"),z=s("q-chip"),B=s("q-space"),J=s("q-badge"),$=s("q-input"),j=s("q-menu"),v=s("q-card-section"),k=s("q-separator"),U=s("q-checkbox"),K=s("q-th"),h=s("q-item"),M=s("q-list"),W=s("q-td"),X=s("q-table"),Y=s("q-select"),Z=s("q-pagination"),ee=s("q-card");return u(),q(ne,null,{default:o(()=>[e(i(le),{title:"Perguntas frenquentes"}),l("div",ae,[l("div",re,[ce,e(G,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:o(()=>[e(C,{label:"Home",class:"text-grey"}),e(C,{label:"Perguntas frenquentes",class:"text-primary"})]),_:1})]),l("div",ie,[x.value.length>0?(u(),q(f,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:I},{default:o(()=>[e(c,{name:"close",size:"xs"}),de]),_:1})):g("",!0),e(f,{color:"primary",rounded:"","no-caps":"",onClick:D},{default:o(()=>[e(c,{name:"add",size:"xs"}),ue]),_:1})])]),e(ee,{flat:"",class:"app-br-16"},{default:o(()=>[e(v,{class:"row items-center q-py-sm q-px-lg"},{default:o(()=>[d.query.filters.question_text?(u(),q(z,{key:0,class:"adm-chip-primary",label:`Pergunta = ${d.query.filters.question_text}`},{default:o(()=>[e(c,{name:"cancel",size:"xs",onClick:a[0]||(a[0]=t=>V("question_text")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):g("",!0),d.query.filters.answer_text?(u(),q(z,{key:1,class:"adm-chip-primary",label:`Resposta = ${d.query.filters.answer_text}`},{default:o(()=>[e(c,{name:"cancel",size:"xs",onClick:a[1]||(a[1]=t=>V("answer_text")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):g("",!0),e(B),e(f,{round:"",dense:"",flat:"",color:"primary"},{default:o(()=>[i(P)?(u(),q(J,{key:0,color:"primary",floating:"",rounded:"",label:i(P)},null,8,["label"])):g("",!0),e(c,{name:"tune",class:"rotate-90"}),e(j,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:w.value,"onUpdate:modelValue":a[4]||(a[4]=t=>w.value=t)},{default:o(()=>[l("div",me,[l("div",pe,[e($,{outlined:"",modelValue:i(n).filters.question_text,"onUpdate:modelValue":a[2]||(a[2]=t=>i(n).filters.question_text=t),label:"Pergunta"},null,8,["modelValue"])]),l("div",_e,[e($,{outlined:"",modelValue:i(n).filters.answer_text,"onUpdate:modelValue":a[3]||(a[3]=t=>i(n).filters.answer_text=t),label:"Resposta"},null,8,["modelValue"])])]),l("div",qe,[e(f,{color:"primary",rounded:"","no-caps":"",onClick:y},{default:o(()=>[e(c,{name:"check",size:"xs"}),fe]),_:1}),e(f,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:L},{default:o(()=>[e(c,{name:"close",size:"xs"}),ye]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(v,{class:"q-py-none"},{default:o(()=>[e(k,{color:"grey-3"})]),_:1}),e(v,{class:"q-py-none"},{default:o(()=>[e(X,{rows:d.commonQuestions.data,columns:Q,flat:"",class:"text-grey-8",selected:x.value,"onUpdate:selected":a[5]||(a[5]=t=>x.value=t),selection:"multiple","hide-pagination":"",pagination:{rowsPerPage:i(n).rowsPerPage}},{"header-selection":o(t=>[e(U,{modelValue:t.selected,"onUpdate:modelValue":p=>t.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":o(t=>[e(U,{"model-value":t.selected,"onUpdate:modelValue":(p,te)=>{Object.getOwnPropertyDescriptor(t,"selected").set(p,te)}},null,8,["model-value","onUpdate:modelValue"])]),"header-cell":o(t=>[e(K,{props:t},{default:o(()=>[l("div",xe,[t.col.sorteable?(u(),S("div",{key:0,onClick:p=>R(t.col.name),class:"cursor-pointer"},[E(F(t.col.label)+" ",1),t.col.name===d.query.orderBy&&d.query.sort=="desc"?(u(),q(c,{key:0,name:"keyboard_arrow_up"})):t.col.name===d.query.orderBy&&d.query.sort=="asc"?(u(),q(c,{key:1,name:"keyboard_arrow_down"})):g("",!0)],8,ge)):(u(),S("div",be,F(t.col.label),1))])]),_:2},1032,["props"])]),"body-cell-actions":o(t=>[e(W,{props:t,"auto-width":""},{default:o(()=>[e(f,{icon:"more_vert",flat:""},{default:o(()=>[e(j,null,{default:o(()=>[e(M,null,{default:o(()=>[e(h,{clickable:"",onClick:p=>H(t.row.id),class:"text-grey-7 flex flex-center"},{default:o(()=>[e(c,{name:"edit",size:"xs"}),we]),_:2},1032,["onClick"]),e(k),e(h,{clickable:"",onClick:p=>T(t.row.id),class:"text-grey-7 flex flex-center"},{default:o(()=>[e(c,{name:"visibility",size:"xs"}),ve]),_:2},1032,["onClick"]),e(k),e(h,{clickable:"",onClick:p=>A(t.row.id),class:"text-grey-7 flex flex-center"},{default:o(()=>[e(c,{name:"close",size:"xs"}),ke]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","selected","pagination"]),l("div",he,[e(B),l("div",Ve,[E(" Resultado por p\xE1gina "),e(Y,{options:[5,10,15],modelValue:i(n).rowsPerPage,"onUpdate:modelValue":[a[6]||(a[6]=t=>i(n).rowsPerPage=t),y],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(Z,{modelValue:i(n).page,"onUpdate:modelValue":[a[7]||(a[7]=t=>i(n).page=t),y],max:d.commonQuestions.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{Be as default};
