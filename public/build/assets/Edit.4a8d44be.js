import{_ as S}from"./AuthenticatedLayout.0bc0b363.js";import{h as L,u as M,m as B,c as C,w as l,r as c,i as $,o as v,a as e,b as n,H as G,d as s,s as x,t as u,n as D,e as U,y as I}from"./app.cc606831.js";import{_ as F}from"./DialogConfirm.f96873bf.js";const H={class:"row q-mb-lg"},N={class:"column col-12 col-md-6 justify-center"},J=s("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Editar vaga ",-1),T={class:"col-12 col-md-6 flex justify-end items-center"},P=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir vaga ",-1),Q=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar ",-1),K={class:"bg-white q-py-lg q-px-lg app-br-16"},R={class:"row q-col-gutter-lg"},W=s("div",{class:"col-12 items-center q-mt-xs"},[s("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),X={class:"col-12 col-md-6"},Z={class:"text-red"},ee={class:"col-12 col-md-6"},te={class:"text-red"},oe={class:"col-12 col-md-12"},se={class:"text-red"},ae={key:0,class:"col-12"},le={class:"text-red"},ne={key:1,class:"col-12"},ie={class:"text-red"},de={class:"col-12 col-md-6"},re={class:"text-red"},ce={class:"row items-center justify-end"},ue={class:"col-12 col-md-6"},me={class:"text-red"},pe={class:"row items-center justify-end"},_e={class:"col-12"},be={class:"text-red"},Ve={__name:"Edit",props:{jobVacancy:Object,errors:Object,students:Array,groups:Array,displayOptions:Array,canJobVacancyDestroy:Boolean},setup(i){const d=i,f=L(),o=M({id:d.jobVacancy.id,title:d.jobVacancy.title,description:d.jobVacancy.description,link:d.jobVacancy.link,display_to:d.jobVacancy.display_to,start_at:d.jobVacancy.start_at,end_at:d.jobVacancy.end_at,groups:d.jobVacancy.groups,students:d.jobVacancy.students}),O=()=>{o.put(route("admin.job-vacancy.update",o.id),{onSuccess:()=>{f.notify({type:"positive",message:"Vaga atualizada com sucesso",position:"top"})}})};function Y(){f.dialog({component:F,componentProps:{title:"Excluir vaga",message:"Tem certeza que deseja excluir essa vaga?"}}).onOk(()=>{I.Inertia.delete(route("admin.job-vacancy.destroy",o.id),{onSuccess:()=>{f.notify({type:"positive",message:"Vaga exclu\xEDda com sucesso",position:"top"})}})})}const g=B(d.students),A=(b,a,m)=>{a(()=>{const p=b.toLowerCase();g.value=d.students.filter(r=>r.name.toLowerCase().indexOf(p)>-1)})},q=B(d.groups),z=(b,a,m)=>{a(()=>{const p=b.toLowerCase();q.value=d.groups.filter(r=>r.name.toLowerCase().indexOf(p)>-1)})};return(b,a)=>{const m=c("q-breadcrumbs-el"),p=c("q-breadcrumbs"),r=c("q-icon"),y=c("q-btn"),_=c("q-input"),V=c("q-select"),h=c("q-chip"),k=c("q-date"),j=c("q-popup-proxy"),w=$("close-popup");return v(),C(S,null,{default:l(()=>[e(n(G),{title:"Vaga | Adicionar"}),s("div",H,[s("div",N,[J,e(p,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:l(()=>[e(m,{label:"Home",class:"text-grey"}),e(m,{label:"Vagas",class:"text-grey"}),e(m,{label:"Editar vaga",class:"text-primary"})]),_:1})]),s("div",T,[i.canJobVacancyDestroy?(v(),C(y,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:Y},{default:l(()=>[e(r,{name:"close",size:"xs"}),P]),_:1})):x("",!0),e(y,{color:"primary",rounded:"","no-caps":"",onClick:O,disabled:n(o).processing},{default:l(()=>[e(r,{name:"check",size:"xs"}),Q]),_:1},8,["disabled"])])]),s("div",K,[s("div",R,[W,s("div",X,[e(_,{outlined:"",modelValue:n(o).title,"onUpdate:modelValue":a[0]||(a[0]=t=>n(o).title=t),label:"T\xEDtulo *","bottom-slots":Boolean(i.errors.title)},{hint:l(()=>[s("div",Z,u(i.errors.title),1)]),_:1},8,["modelValue","bottom-slots"])]),s("div",ee,[e(V,{options:i.displayOptions,outlined:"",modelValue:n(o).display_to,"onUpdate:modelValue":a[1]||(a[1]=t=>n(o).display_to=t),label:"Mostrar para *","bottom-slots":Boolean(i.errors.display_to)},{hint:l(()=>[s("div",te,u(i.errors.display_to),1)]),_:1},8,["options","modelValue","bottom-slots"])]),s("div",oe,[e(_,{outlined:"",modelValue:n(o).description,"onUpdate:modelValue":a[2]||(a[2]=t=>n(o).description=t),label:"Descri\xE7\xE3o","bottom-slots":Boolean(i.errors.description),type:"textarea"},{hint:l(()=>[s("div",se,u(i.errors.description),1)]),_:1},8,["modelValue","bottom-slots"])]),n(o).display_to=="Usu\xE1rio"?(v(),D("div",ae,[e(V,{options:g.value,"option-value":"id","option-label":"name","emit-value":"","map-options":"",outlined:"",modelValue:n(o).students,"onUpdate:modelValue":a[3]||(a[3]=t=>n(o).students=t),label:"Alunos","bottom-slots":Boolean(i.errors.students),multiple:"",clearable:"","use-chips":"","use-input":"",onFilter:A},{hint:l(()=>[s("div",le,u(i.errors.students),1)]),"selected-item":l(t=>[e(h,{class:"adm-chip-primary q-my-none",label:t.opt.name,dense:""},{default:l(()=>[e(r,{name:"cancel",size:"xs",onClick:E=>t.removeAtIndex(t.index),class:"q-ml-xs cursor-pointer"},null,8,["onClick"])]),_:2},1032,["label"])]),_:1},8,["options","modelValue","bottom-slots"])])):x("",!0),n(o).display_to=="Grupo"?(v(),D("div",ne,[e(V,{options:q.value,"option-value":"id","option-label":"name","emit-value":"","map-options":"",outlined:"",modelValue:n(o).groups,"onUpdate:modelValue":a[4]||(a[4]=t=>n(o).groups=t),label:"Grupos","bottom-slots":Boolean(i.errors.groups),multiple:"",clearable:"","use-chips":"","use-input":"",onFilter:z},{hint:l(()=>[s("div",ie,u(i.errors.groups),1)]),"selected-item":l(t=>[e(h,{class:"adm-chip-primary q-my-none",label:t.opt.name,dense:""},{default:l(()=>[e(r,{name:"cancel",size:"xs",onClick:E=>t.removeAtIndex(t.index),class:"q-ml-xs cursor-pointer"},null,8,["onClick"])]),_:2},1032,["label"])]),_:1},8,["options","modelValue","bottom-slots"])])):x("",!0),s("div",de,[e(_,{outlined:"",modelValue:n(o).start_at,"onUpdate:modelValue":a[6]||(a[6]=t=>n(o).start_at=t),mask:"##/##/####",label:"Data de inicio *","bottom-slots":Boolean(i.errors.start_at),clearable:""},{prepend:l(()=>[e(r,{name:"o_calendar_today"})]),hint:l(()=>[s("div",re,u(i.errors.start_at),1)]),default:l(()=>[e(j,null,{default:l(()=>[e(k,{modelValue:n(o).start_at,"onUpdate:modelValue":a[5]||(a[5]=t=>n(o).start_at=t),mask:"DD/MM/YYYY",square:""},{default:l(()=>[s("div",ce,[U(e(y,{label:"Ok",color:"primary",flat:""},null,512),[[w]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","bottom-slots"])]),s("div",ue,[e(_,{outlined:"",modelValue:n(o).end_at,"onUpdate:modelValue":a[8]||(a[8]=t=>n(o).end_at=t),mask:"##/##/####",label:"Data final","bottom-slots":Boolean(i.errors.end_at),clearable:""},{prepend:l(()=>[e(r,{name:"o_calendar_today"})]),hint:l(()=>[s("div",me,u(i.errors.end_at),1)]),default:l(()=>[e(j,null,{default:l(()=>[e(k,{modelValue:n(o).end_at,"onUpdate:modelValue":a[7]||(a[7]=t=>n(o).end_at=t),mask:"DD/MM/YYYY",square:""},{default:l(()=>[s("div",pe,[U(e(y,{label:"Ok",color:"primary",flat:""},null,512),[[w]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","bottom-slots"])]),s("div",_e,[e(_,{outlined:"",modelValue:n(o).link,"onUpdate:modelValue":a[9]||(a[9]=t=>n(o).link=t),label:"Link *","bottom-slots":Boolean(i.errors.link)},{hint:l(()=>[s("div",be,u(i.errors.link),1)]),_:1},8,["modelValue","bottom-slots"])])])])]),_:1})}}};export{Ve as default};
