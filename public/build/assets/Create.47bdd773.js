import{_ as A}from"./AuthenticatedLayout.0bc0b363.js";import{h as L,u as C,m as F,j as $,c as T,w as a,r,i as E,o as g,a as e,b as s,H as Q,d as t,t as _,e as Y,f as q,n as H,B,C as P,D as U}from"./app.cc606831.js";import{u as X}from"./index.common.8f199d34.js";const Z={class:"row q-mb-lg"},G={class:"column col-12 col-md-6 justify-center"},J=t("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Novo pop-up ",-1),K={class:"bg-white q-py-lg q-px-lg app-br-16"},W={class:"row q-col-gutter-lg"},ee=t("div",{class:"col-12 items-center q-mt-xs"},[t("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),te={class:"col-12 col-md-12"},oe={class:"text-red"},se={class:"col-12 col-xl-6 col-md-6"},ae={class:"text-red"},le={class:"row items-center justify-end"},ne={class:"col-12 col-xl-6 col-md-6"},re={class:"text-red"},ie={class:"row items-center justify-end"},de={class:"col-12 col-md-12"},ce={class:"text-red"},me={class:"col-12 items-center q-mt-xs"},pe={class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"},ue={key:0,class:"col-12"},_e={class:"absolute-bottom text-subtitle2 row items-center"},fe={key:1,class:"col-12"},be=t("div",{class:"q-mt-sm"}," Clique aqui ou arraste sua imagem ",-1),ge={class:"col-12 flex justify-end items-center"},qe=t("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Voltar ",-1),ve=t("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Criar pop-up ",-1),we={__name:"Create",props:{errors:Object,contents:Array},setup(i){const v=i,h=L(),o=C({id:null,description:null,image:null,start_at:null,end_at:null,content_ids:[]}),z=()=>{o.post(route("admin.popup.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{h.notify({type:"positive",message:"Popup cadastrado com sucesso",position:"top"})}})},x=F(v.contents),j=(p,l,u)=>{l(()=>x.value=v.contents.filter(f=>f.name.toLowerCase().indexOf(p.toLowerCase())>-1))},I=()=>C().get(route("admin.popup.index")),y=$(()=>o.image==null?"":typeof o.image=="object"?URL.createObjectURL(o.image):o.image),m=X({onDrop:(p,l)=>{o.image=p[0],l.length>0&&h.notify({message:"Insira apenas uma imagem",position:"center"})},accept:["image/*"],maxFiles:1}),M=()=>o.image=null;return(p,l)=>{const u=r("q-breadcrumbs-el"),f=r("q-breadcrumbs"),b=r("q-input"),d=r("q-icon"),V=r("q-date"),c=r("q-btn"),w=r("q-time"),k=r("q-popup-proxy"),N=r("q-chip"),O=r("q-select"),R=r("q-tooltip"),S=r("q-img"),D=E("close-popup");return g(),T(A,null,{default:a(()=>[e(s(Q),{title:"Popup | Adicionar"}),t("div",Z,[t("div",G,[J,e(f,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:a(()=>[e(u,{label:"Home",class:"text-grey"}),e(u,{label:"Popup",class:"text-grey"}),e(u,{label:"Novo pop-up",class:"text-primary"})]),_:1})])]),t("div",K,[t("div",W,[ee,t("div",te,[e(b,{outlined:"",modelValue:s(o).description,"onUpdate:modelValue":l[0]||(l[0]=n=>s(o).description=n),label:"Descri\xE7\xE3o *","bottom-slots":Boolean(i.errors.description)},{hint:a(()=>[t("div",oe,_(i.errors.description),1)]),_:1},8,["modelValue","bottom-slots"])]),t("div",se,[e(b,{outlined:"",modelValue:s(o).start_at,"onUpdate:modelValue":l[3]||(l[3]=n=>s(o).start_at=n),mask:"##/##/#### ##:##",label:"Data e hora de in\xEDcio","bottom-slots":Boolean(i.errors.start_at),clearable:""},{prepend:a(()=>[e(d,{name:"o_calendar_today"})]),hint:a(()=>[t("div",ae,_(i.errors.start_at),1)]),default:a(()=>[e(k,{class:"row"},{default:a(()=>[e(V,{modelValue:s(o).start_at,"onUpdate:modelValue":l[1]||(l[1]=n=>s(o).start_at=n),mask:"DD/MM/YYYY HH:mm",flat:"",square:""},null,8,["modelValue"]),e(w,{modelValue:s(o).start_at,"onUpdate:modelValue":l[2]||(l[2]=n=>s(o).start_at=n),mask:"DD/MM/YYYY HH:mm",format24h:"",flat:"",square:""},{default:a(()=>[t("div",le,[Y(e(c,{label:"Ok",color:"primary",flat:""},null,512),[[D]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","bottom-slots"])]),t("div",ne,[e(b,{outlined:"",modelValue:s(o).end_at,"onUpdate:modelValue":l[6]||(l[6]=n=>s(o).end_at=n),mask:"##/##/#### ##:##",label:"Data e hora de t\xE9rmino *","bottom-slots":Boolean(i.errors.end_at),clearable:""},{prepend:a(()=>[e(d,{name:"o_calendar_today"})]),hint:a(()=>[t("div",re,_(i.errors.end_at),1)]),default:a(()=>[e(k,{class:"row"},{default:a(()=>[e(V,{modelValue:s(o).end_at,"onUpdate:modelValue":l[4]||(l[4]=n=>s(o).end_at=n),mask:"DD/MM/YYYY HH:mm",flat:"",square:""},null,8,["modelValue"]),e(w,{modelValue:s(o).end_at,"onUpdate:modelValue":l[5]||(l[5]=n=>s(o).end_at=n),mask:"DD/MM/YYYY HH:mm",format24h:"",flat:"",square:""},{default:a(()=>[t("div",ie,[Y(e(c,{label:"Ok",color:"primary",flat:""},null,512),[[D]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","bottom-slots"])]),t("div",de,[e(O,{options:x.value,"option-value":"id","option-label":"name","emit-value":"","map-options":"",outlined:"",modelValue:s(o).content_ids,"onUpdate:modelValue":l[7]||(l[7]=n=>s(o).content_ids=n),label:"Conte\xFAdo","bottom-slots":Boolean(i.errors.content_ids),clearable:"","use-input":"",onFilter:j,multiple:""},{hint:a(()=>[t("div",ce,_(i.errors.content_ids),1)]),"selected-item":a(n=>[e(N,{class:"adm-chip-primary q-my-none",label:n.opt.name,dense:""},{default:a(()=>[e(d,{name:"cancel",size:"xs",onClick:he=>n.removeAtIndex(n.index),class:"q-ml-xs cursor-pointer"},null,8,["onClick"])]),_:2},1032,["label"])]),_:1},8,["options","modelValue","bottom-slots"])]),t("div",me,[t("div",pe,[q(" Imagem "),e(d,{name:"help_outline",size:"xs",class:"cursor-pointer"},{default:a(()=>[e(R,{anchor:"center right",self:"center left",offset:[10,10],class:"text-body2 bg-grey-10"},{default:a(()=>[q(" Tamanho recomendado: 800px X 600px ")]),_:1})]),_:1})])]),s(y)?(g(),H("div",ue,[e(S,{src:s(y),style:{height:"400px"},class:"app-br-16"},{default:a(()=>[t("div",_e,[e(d,{name:"o_photo",size:"md",class:"q-mr-md"}),e(c,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:M}),t("div",B({class:"flex cursor-pointer"},s(m).getRootProps()),[t("input",P(U(s(m).getInputProps())),null,16),q(" Alterar imagem ")],16)])]),_:1},8,["src"])])):(g(),H("div",fe,[t("div",B(s(m).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[t("input",P(U(s(m).getInputProps())),null,16),e(d,{name:"o_photo",size:"md"}),be],16)])),t("div",ge,[e(c,{color:"primary",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:I},{default:a(()=>[e(d,{name:"chevron_left",size:"xs"}),qe]),_:1}),e(c,{color:"primary",rounded:"","no-caps":"",onClick:z,disabled:s(o).processing},{default:a(()=>[e(d,{name:"add",size:"xs"}),ve]),_:1},8,["disabled"])])])])]),_:1})}}};export{we as default};
