import{h as oe,u as q,m as S,j as se,c as u,w as t,r as s,o as m,a as e,b as d,H as ae,d as a,s as y,f as V,t as C}from"./app.cc606831.js";import{_ as le}from"./AuthenticatedLayout.0bc0b363.js";import{_ as D}from"./DialogConfirm.f96873bf.js";const ne={class:"row q-pb-xl"},ce={class:"column col-12 col-md-6 justify-center"},ie=a("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Quizz ",-1),re={class:"col-12 col-md-6 flex justify-end items-center"},de=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir selecionados ",-1),ue=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Novo quizz ",-1),me={class:"row q-col-gutter-sm"},pe={class:"col-12"},_e={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},fe=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),qe=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),ye=["onClick"],ze={class:"flex flex-center app-fw-700 app-fs-16"},ge={class:"app-fw-700 app-fs-16"},xe=a("div",{class:"q-ml-sm"}," Editar ",-1),be=a("div",{class:"q-ml-sm"}," Visualizar ",-1),ve=a("div",{class:"q-ml-sm"}," Excluir ",-1),we=a("div",{class:"q-ml-sm"}," Visualizar ",-1),he={class:"row items-center text-grey"},ke={class:"row items-center text-grey"},Qe={__name:"Index",props:{quizzes:Object,errors:Object,query:Object,canQuizzStore:Boolean,canQuizzEdit:Boolean,canQuizzDestroy:Boolean},setup(i){const p=i,x=oe(),F=[{name:"name",align:"left",label:"Nome",field:"name",style:"width: 50%",sorteable:!0},{name:"content_name",align:"left",label:"Conte\xFAdo vinculado",field:l=>l.content.name,style:"width: 50%"},{name:"actions",label:"A\xE7\xE3o"}],n=q({orderBy:p.query.orderBy,sort:p.query.sort,page:p.query.page,rowsPerPage:p.query.rowsPerPage,filters:{name:p.query.filters.name,start_at:p.query.filters.start_at,end_at:p.query.filters.end_at}}),H=l=>{n.orderBy===l?n.sort=n.sort=="desc"?"asc":"desc":n.sort=="asc",n.orderBy=l,n.page=1,z()},T=l=>{n.filters[l]=null,z()},z=()=>{n.get(route("admin.quizz.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>b.value=!1})},A=()=>q().get(route("admin.quizz.create")),I=l=>q().get(route("admin.quizz.edit",l)),P=l=>q().get(route("admin.quizz.show",l));function L(l){x.dialog({component:D,componentProps:{title:"Excluir quizz?",message:"Tem certeza que deseja excluir essa quizz?"}}).onOk(()=>{q().delete(route("admin.quizz.destroy",l),{onSuccess:()=>{x.notify({type:"positive",message:"Quizz exclu\xEDdo com sucesso",position:"top"})}})})}function R(){x.dialog({component:D,componentProps:{title:"Excluir selecionados",message:"Tem certeza que deseja excluir quizz selecionados?"}}).onOk(()=>{q({ids:g.value.map(l=>l.id)}).post(route("admin.quizz.destroy-multiples"),{onSuccess:()=>{g.value=[],x.notify({type:"positive",message:"Quizz exclu\xEDdas com sucesso",position:"top"})}})})}const g=S([]),Q=se(()=>Object.values(p.query.filters).filter(l=>l).length),b=S(!1),G=()=>q().get(route("admin.quizz.index"));return(l,c)=>{const B=s("q-breadcrumbs-el"),J=s("q-breadcrumbs"),r=s("q-icon"),f=s("q-btn"),j=s("q-chip"),$=s("q-space"),K=s("q-badge"),M=s("q-input"),U=s("q-menu"),v=s("q-card-section"),w=s("q-separator"),E=s("q-checkbox"),N=s("q-th"),O=s("q-td"),h=s("q-item-section"),k=s("q-item"),W=s("q-list"),X=s("q-table"),Y=s("q-select"),Z=s("q-pagination"),ee=s("q-card");return m(),u(le,null,{default:t(()=>[e(d(ae),{title:"Quizz"}),a("div",ne,[a("div",ce,[ie,e(J,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:t(()=>[e(B,{label:"Home",class:"text-grey"}),e(B,{label:"Quizz",class:"text-primary"})]),_:1})]),a("div",re,[g.value.length>0?(m(),u(f,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:R},{default:t(()=>[e(r,{name:"close",size:"xs"}),de]),_:1})):y("",!0),e(f,{color:"primary",rounded:"","no-caps":"",onClick:A},{default:t(()=>[e(r,{name:"add",size:"xs"}),ue]),_:1})])]),e(ee,{flat:"",class:"app-br-16"},{default:t(()=>[e(v,{class:"row items-center q-py-sm q-px-lg"},{default:t(()=>[i.query.filters.name?(m(),u(j,{key:0,class:"adm-chip-primary",label:`Nome = ${i.query.filters.name}`},{default:t(()=>[e(r,{name:"cancel",size:"xs",onClick:c[0]||(c[0]=o=>T("name")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):y("",!0),e($),e(f,{round:"",dense:"",flat:"",color:"primary"},{default:t(()=>[d(Q)?(m(),u(K,{key:0,color:"primary",floating:"",rounded:"",label:d(Q)},null,8,["label"])):y("",!0),e(r,{name:"tune",class:"rotate-90"}),e(U,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:b.value,"onUpdate:modelValue":c[2]||(c[2]=o=>b.value=o)},{default:t(()=>[a("div",me,[a("div",pe,[e(M,{outlined:"",modelValue:d(n).filters.name,"onUpdate:modelValue":c[1]||(c[1]=o=>d(n).filters.name=o),label:"Nome do quizz"},null,8,["modelValue"])])]),a("div",_e,[e(f,{color:"primary",rounded:"","no-caps":"",onClick:z},{default:t(()=>[e(r,{name:"check",size:"xs"}),fe]),_:1}),e(f,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:G},{default:t(()=>[e(r,{name:"close",size:"xs"}),qe]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(v,{class:"q-py-none"},{default:t(()=>[e(w,{color:"grey-3"})]),_:1}),e(v,{class:"q-py-none"},{default:t(()=>[e(X,{rows:i.quizzes.data,columns:F,flat:"",class:"text-grey-8",selected:g.value,"onUpdate:selected":c[3]||(c[3]=o=>g.value=o),selection:"multiple","hide-pagination":"",pagination:{rowsPerPage:d(n).rowsPerPage}},{"header-selection":t(o=>[e(E,{modelValue:o.selected,"onUpdate:modelValue":_=>o.selected=_},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":t(o=>[e(E,{"model-value":o.selected,"onUpdate:modelValue":(_,te)=>{Object.getOwnPropertyDescriptor(o,"selected").set(_,te)}},null,8,["model-value","onUpdate:modelValue"])]),"header-cell":t(o=>[e(N,{props:o},{default:t(()=>[a("div",{class:"app-fw-700 app-fs-16 cursor-pointer",onClick:_=>H(o.col.name)},[V(C(o.col.label)+" ",1),o.col.name===i.query.orderBy?(m(),u(r,{key:0,name:i.query.sort=="desc"?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])):y("",!0)],8,ye)]),_:2},1032,["props"])]),"header-cell-actions":t(o=>[e(N,{props:o,"auto-width":""},{default:t(()=>[a("div",ze,C(o.col.label),1)]),_:2},1032,["props"])]),"body-cell-content_name":t(o=>[e(O,{props:o},{default:t(()=>[e(j,{class:"adm-chip-primary"},{default:t(()=>[V(C(o.row.content.name),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-actions":t(o=>[e(O,{props:o},{default:t(()=>[a("div",ge,[i.canQuizzEdit||i.canQuizzDestroy?(m(),u(f,{key:0,icon:"more_vert",flat:""},{default:t(()=>[e(U,{offset:[65,0]},{default:t(()=>[e(W,null,{default:t(()=>[i.canQuizzEdit?(m(),u(k,{key:0,clickable:"",onClick:_=>I(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(r,{name:"edit",size:"xs"}),e(h,{"no-wrap":""},{default:t(()=>[xe]),_:1})]),_:2},1032,["onClick"])):y("",!0),e(w),e(k,{clickable:"",onClick:_=>P(o.row.id),class:"text-grey-7 flex items-center"},{default:t(()=>[e(r,{name:"visibility",size:"xs"}),e(h,{"no-wrap":""},{default:t(()=>[be]),_:1})]),_:2},1032,["onClick"]),e(w),i.canQuizzDestroy?(m(),u(k,{key:1,clickable:"",onClick:_=>L(o.row.id),class:"text-grey-7 flex flex-center"},{default:t(()=>[e(r,{name:"close",size:"xs"}),e(h,{"no-wrap":""},{default:t(()=>[ve]),_:1})]),_:2},1032,["onClick"])):y("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(m(),u(f,{key:1,onClick:_=>P(o.row.id),class:"text-grey-7 flex flex-center text-no-wrap",flat:"","no-caps":""},{default:t(()=>[e(r,{name:"visibility",size:"xs"}),we]),_:2},1032,["onClick"]))])]),_:2},1032,["props"])]),_:1},8,["rows","selected","pagination"]),a("div",he,[e($),a("div",ke,[V(" Resultado por p\xE1gina "),e(Y,{options:[5,10,15],modelValue:d(n).rowsPerPage,"onUpdate:modelValue":[c[4]||(c[4]=o=>d(n).rowsPerPage=o),z],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(Z,{modelValue:d(n).page,"onUpdate:modelValue":[c[5]||(c[5]=o=>d(n).page=o),z],max:i.quizzes.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{Qe as default};
