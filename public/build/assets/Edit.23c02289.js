import{_ as z}from"./AuthenticatedLayout.0bc0b363.js";import{h as D,u as v,j as N,c as x,w as p,r as n,o as i,a as o,b as a,H as O,d as e,s as F,t as y,M as G,n as _,p as k,F as w}from"./app.cc606831.js";import{_ as H}from"./DialogConfirm.f96873bf.js";const P={class:"row q-mb-lg"},R={class:"column col-12 col-md-6 justify-center"},U=e("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Editar grupo de usu\xE1rios ",-1),$={class:"col-12 col-md-6 flex justify-end items-center"},I=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Excluir grupo ",-1),L=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar ",-1),M={class:"bg-white q-py-lg q-px-lg app-br-16"},Q={class:"row q-col-gutter-lg"},T=e("div",{class:"col-12 items-center q-mt-xs"},[e("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),A={class:"col-12 col-md-12"},J={class:"text-red"},K=e("div",{class:"col-12 items-center q-mt-xs"},[e("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Permiss\xF5es ")],-1),W={class:"col-12 items-center q-mt-xs"},X={class:"col-12 col-md-4"},Y={class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-16"},oe={__name:"Edit",props:{role:Object,permissions:Object,errors:Object,canRoleDestroy:Boolean},setup(r){const l=r,f=D(),s=v({id:l.role.id,name:l.role.name,can_delete:l.role.can_delete,permission_ids:l.role.permission_ids}),V=()=>{s.put(route("admin.role.update",s.id),{onSuccess:()=>{f.notify({type:"positive",message:"Grupo atualizado com sucesso",position:"top"})}})};function E(){f.dialog({component:H,componentProps:{title:"Excluir grupo",message:"Tem certeza que deseja excluir essa grupo?"}}).onOk(()=>{v().delete(route("admin.role.destroy",s.id),{onSuccess:()=>{f.notify({type:"positive",message:"Grupo exclu\xEDdo com sucesso",position:"top"})}})})}const u=N({get:()=>{let c=0;for(const t in l.permissions)c+=l.permissions[t].length;return s.permission_ids.length===c},set:c=>{if(s.permission_ids=[],c)for(const t in l.permissions)l.permissions[t].forEach(d=>s.permission_ids.push(d.id))}});return(c,t)=>{const d=n("q-breadcrumbs-el"),j=n("q-breadcrumbs"),b=n("q-icon"),g=n("q-btn"),S=n("q-input"),h=n("q-checkbox");return i(),x(z,null,{default:p(()=>[o(a(O),{title:"Grupo | Editar"}),e("div",P,[e("div",R,[U,o(j,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:p(()=>[o(d,{label:"Home",class:"text-grey"}),o(d,{label:"Se\xE7\xF5es",class:"text-grey"}),o(d,{label:"Editar grupo de usu\xE1rios",class:"text-primary"})]),_:1})]),e("div",$,[r.canRoleDestroy?(i(),x(g,{key:0,color:"negative",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:E},{default:p(()=>[o(b,{name:"close",size:"xs"}),I]),_:1})):F("",!0),o(g,{color:"primary",rounded:"","no-caps":"",onClick:V,disabled:a(s).processing},{default:p(()=>[o(b,{name:"check",size:"xs"}),L]),_:1},8,["disabled"])])]),e("div",M,[e("div",Q,[T,e("div",A,[o(S,{outlined:"",modelValue:a(s).name,"onUpdate:modelValue":t[0]||(t[0]=m=>a(s).name=m),label:"Nome *","bottom-slots":Boolean(r.errors.name)},{hint:p(()=>[e("div",J,y(r.errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),K,e("div",W,[o(h,{label:a(u)?"Desselecionar todas as permiss\xF5es":"Selecionar todas as permiss\xF5es",modelValue:a(u),"onUpdate:modelValue":t[1]||(t[1]=m=>G(u)?u.value=m:null)},null,8,["label","modelValue"])]),(i(!0),_(w,null,k(r.permissions,(m,B)=>(i(),_("div",X,[e("div",Y,y(B),1),(i(!0),_(w,null,k(m,q=>(i(),_("div",null,[o(h,{modelValue:a(s).permission_ids,"onUpdate:modelValue":t[2]||(t[2]=C=>a(s).permission_ids=C),label:q.label,val:q.id},null,8,["modelValue","label","val"])]))),256))]))),256))])])]),_:1})}}};export{oe as default};
