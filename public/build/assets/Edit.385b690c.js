import{_ as I}from"./AuthenticatedLayout.0bc0b363.js";import{h as L,u,j as R,m as N,c as H,w as d,r as c,o as y,a as s,b as t,H as F,d as e,t as m,f as q,n as B,B as U,C as w,D}from"./app.cc606831.js";import{u as $}from"./index.common.8f199d34.js";const M={class:"row q-mb-lg"},Q={class:"column col-12 col-md-6 justify-center"},X={class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"},Z={class:"bg-white app-br-16"},G={class:"bg-white q-py-lg q-px-lg app-br-16"},J={class:"row q-col-gutter-lg"},K=e("div",{class:"col-12 items-center q-mt-xs"},[e("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Editar epis\xF3dio ")],-1),W={class:"col-12 col-md-9"},Y={class:"text-red"},ee={class:"col-12 col-md-3"},oe={class:"text-red"},te={class:"col-12 col-md-9"},se={class:"text-red"},ae={class:"col-12 col-md-3"},le={class:"text-red"},ne={class:"col-12"},ie={class:"text-red"},de={class:"col-12"},me={class:"q-gutter-sm row items-center"},re=e("div",null," Player do v\xEDdeo: ",-1),ce={class:"col-12 col-md-4"},ue={class:"text-red"},pe={class:"col-12 col-md-8"},be={class:"text-red"},_e={class:"col-12 col-md-4"},he={class:"text-red"},ge={class:"col-12 col-md-8"},ve={class:"text-red"},fe={class:"col-12"},xe={class:"text-red"},Ve={class:"col-12 items-center q-mt-xs"},ye={class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"},qe={key:0,class:"col-12 col-md-4"},ke={class:"absolute-bottom text-subtitle2 row items-center"},Be={key:1,class:"col-12"},Ue=e("div",{class:"q-mt-sm"}," Clique aqui ou arraste sua imagem ",-1),we={class:"col-12 flex justify-end items-center"},De=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Voltar ",-1),Ce=e("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar ",-1),je={__name:"Edit",props:{content:Object,chapter:Object,errors:Object},setup(n){const i=n,p=L(),o=u({name:i.chapter.name,number:1,duration:i.chapter.duration,cast:i.chapter.cast,direction:i.chapter.direction,main_player:i.chapter.main_player,vimeo_link:i.chapter.vimeo_link,vimeo_embed:i.chapter.vimeo_embed,sambatech_link:i.chapter.sambatech_link,sambatech_embed:i.chapter.sambatech_embed,image:i.chapter.image,description:i.chapter.description,embed:i.chapter.embed}),k=R(()=>o.image==null?"":typeof o.image=="object"?URL.createObjectURL(o.image):o.image),h=$({onDrop:(g,a)=>{a.length>0?p.notify({message:"Insira apenas uma imagem",position:"center"}):o.image=g[0]},accept:["image/*"],maxFiles:1}),C=()=>o.image=null,z=()=>{o.transform(g=>({...g,_method:"put"})).post(route("admin.content.chapter.update",{content:i.content.id,chapter:i.chapter.id}),{onSuccess:()=>{p.notify({type:"positive",message:"Conte\xFAdo atualizado com sucesso",position:"top"})}})},b=N("titles"),P=()=>{o.isDirty?(b.value="main",p.dialog({component:AdminDialog,componentProps:{title:"Altera\xE7\xF5es n\xE3o salvas",message:"Ao sair suas altera\xE7\xF5es ser\xE3o perdidas. Tem certeza disso?",confirm:!0}}).onOk(()=>{u().get(route("admin.content.extra.index",i.content.id))})):u().get(route("admin.content.extra.index",i.content.id))},A=()=>{o.isDirty?(b.value="main",p.dialog({component:AdminDialog,componentProps:{title:"Altera\xE7\xF5es n\xE3o salvas",message:"Ao sair suas altera\xE7\xF5es ser\xE3o perdidas. Tem certeza disso?",confirm:!0}}).onOk(()=>{u().get(route("admin.content.edit",i.content.id))})):u().get(route("admin.content.edit",i.content.id))},j=()=>{o.isDirty?(b.value="main",p.dialog({component:AdminDialog,componentProps:{title:"Altera\xE7\xF5es n\xE3o salvas",message:"Ao sair suas altera\xE7\xF5es ser\xE3o perdidas. Tem certeza disso?",confirm:!0}}).onOk(()=>{u().get(route("admin.content.index"))})):u().get(route("admin.content.index"))};return(g,a)=>{const v=c("q-breadcrumbs-el"),O=c("q-breadcrumbs"),f=c("q-tab"),T=c("q-tabs"),r=c("q-input"),x=c("q-radio"),S=c("q-tooltip"),_=c("q-icon"),V=c("q-btn"),E=c("q-img");return y(),H(I,null,{default:d(()=>[s(t(F),{title:n.content.name},null,8,["title"]),e("div",M,[e("div",Q,[e("div",X,m(n.content.name),1),s(O,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:d(()=>[s(v,{label:"Home",class:"text-grey"}),s(v,{label:"Conte\xFAdos",class:"text-grey"}),s(v,{label:n.content.name,class:"text-primary"},null,8,["label"])]),_:1})])]),e("div",Z,[s(T,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=l=>b.value=l),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","no-caps":""},{default:d(()=>[s(f,{name:"main",label:"Dados do conte\xFAdo",class:"q-py-md",onClick:A}),s(f,{name:"titles",label:"T\xEDtulos",class:"q-py-md"}),s(f,{name:"extras",label:"Extras",class:"q-py-md",onClick:P})]),_:1},8,["modelValue"]),e("div",G,[e("div",J,[K,e("div",W,[s(r,{outlined:"",modelValue:t(o).name,"onUpdate:modelValue":a[1]||(a[1]=l=>t(o).name=l),label:"Nome do epis\xF3dio *","bottom-slots":Boolean(n.errors.name)},{hint:d(()=>[e("div",Y,m(n.errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",ee,[s(r,{outlined:"",modelValue:t(o).duration,"onUpdate:modelValue":a[2]||(a[2]=l=>t(o).duration=l),mask:"##:##",label:"Dura\xE7\xE3o","bottom-slots":Boolean(n.errors.duration)},{hint:d(()=>[e("div",oe,m(n.errors.duration),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",te,[s(r,{outlined:"",modelValue:t(o).cast,"onUpdate:modelValue":a[3]||(a[3]=l=>t(o).cast=l),label:"Elenco","bottom-slots":Boolean(n.errors.cast)},{hint:d(()=>[e("div",se,m(n.errors.cast),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",ae,[s(r,{outlined:"",modelValue:t(o).direction,"onUpdate:modelValue":a[4]||(a[4]=l=>t(o).direction=l),label:"Dire\xE7\xE3o","bottom-slots":Boolean(n.errors.direction)},{hint:d(()=>[e("div",le,m(n.errors.direction),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",ne,[s(r,{outlined:"",modelValue:t(o).description,"onUpdate:modelValue":a[5]||(a[5]=l=>t(o).description=l),label:"Descri\xE7\xE3o","bottom-slots":Boolean(n.errors.description),type:"textarea",clearable:"",max_length:"500"},{hint:d(()=>[e("div",ie,m(n.errors.description),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",de,[e("div",me,[re,s(x,{modelValue:t(o).main_player,"onUpdate:modelValue":a[6]||(a[6]=l=>t(o).main_player=l),val:"vimeo",label:"Vimeo"},null,8,["modelValue"]),s(x,{modelValue:t(o).main_player,"onUpdate:modelValue":a[7]||(a[7]=l=>t(o).main_player=l),val:"sambatech",label:"Sambatech"},null,8,["modelValue"]),s(x,{modelValue:t(o).main_player,"onUpdate:modelValue":a[8]||(a[8]=l=>t(o).main_player=l),val:"outros",label:"Outros"},null,8,["modelValue"])])]),e("div",ce,[s(r,{outlined:"",modelValue:t(o).vimeo_link,"onUpdate:modelValue":a[9]||(a[9]=l=>t(o).vimeo_link=l),label:"Link do Vimeo","bottom-slots":Boolean(n.errors.vimeo_link)},{hint:d(()=>[e("div",ue,m(n.errors.vimeo_link),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",pe,[s(r,{outlined:"",modelValue:t(o).vimeo_embed,"onUpdate:modelValue":a[10]||(a[10]=l=>t(o).vimeo_embed=l),label:"C\xF3digo embed Vimeo","bottom-slots":Boolean(n.errors.vimeo_embed)},{hint:d(()=>[e("div",be,m(n.errors.vimeo_embed),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",_e,[s(r,{outlined:"",modelValue:t(o).sambatech_link,"onUpdate:modelValue":a[11]||(a[11]=l=>t(o).sambatech_link=l),label:"Link do Sambatech","bottom-slots":Boolean(n.errors.sambatech_link)},{hint:d(()=>[e("div",he,m(n.errors.sambatech_link),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",ge,[s(r,{outlined:"",modelValue:t(o).sambatech_embed,"onUpdate:modelValue":a[12]||(a[12]=l=>t(o).sambatech_embed=l),label:"C\xF3digo embed Sambatech","bottom-slots":Boolean(n.errors.sambatech_embed)},{hint:d(()=>[e("div",ve,m(n.errors.sambatech_embed),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",fe,[s(r,{outlined:"",modelValue:t(o).embed,"onUpdate:modelValue":a[13]||(a[13]=l=>t(o).embed=l),label:"Link do embed","bottom-slots":Boolean(n.errors.embed)},{hint:d(()=>[e("div",xe,m(n.errors.embed),1)]),_:1},8,["modelValue","bottom-slots"])]),e("div",Ve,[e("div",ye,[q(" Imagem opcional "),s(_,{name:"help_outline",size:"xs",class:"cursor-pointer"},{default:d(()=>[s(S,{anchor:"center right",self:"center left",offset:[10,10],class:"text-body2 bg-grey-10"},{default:d(()=>[q(" Tamanho recomendado: 800px X 600px ")]),_:1})]),_:1})])]),t(k)?(y(),B("div",qe,[s(E,{src:t(k),style:{height:"400px"},class:"app-br-16"},{default:d(()=>[e("div",ke,[s(_,{name:"o_photo",size:"md",class:"q-mr-md"}),s(V,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:C}),e("div",U({class:"flex cursor-pointer"},t(h).getRootProps()),[e("input",w(D(t(h).getInputProps())),null,16),q(" Alterar imagem ")],16)])]),_:1},8,["src"])])):(y(),B("div",Be,[e("div",U(t(h).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[e("input",w(D(t(h).getInputProps())),null,16),s(_,{name:"o_photo",size:"md"}),Ue],16)])),e("div",we,[s(V,{color:"primary",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:j},{default:d(()=>[s(_,{name:"chevron_left",size:"xs"}),De]),_:1}),s(V,{color:"primary",rounded:"","no-caps":"",onClick:z,disabled:t(o).processing},{default:d(()=>[s(_,{name:"add",size:"xs"}),Ce]),_:1},8,["disabled"])])])])])]),_:1})}}};export{je as default};
