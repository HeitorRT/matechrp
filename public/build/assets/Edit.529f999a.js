import{_ as T}from"./AuthenticatedLayout.0bc0b363.js";import{h as A,u as L,m as y,c as M,w as a,r as d,i as D,o as q,a as s,b as n,H as F,d as l,t as m,q as I,f as V,n as R,p as $,F as O,e as W}from"./app.cc606831.js";const Q={class:"row q-mb-lg"},G={class:"column col-12 col-md-6 justify-center"},J=l("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Editar notifica\xE7\xE3o ",-1),K={class:"col-12 col-md-6 flex justify-end items-center"},P=l("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Salvar notifica\xE7\xE3o ",-1),X={class:"bg-white q-py-lg q-px-lg app-br-16"},Y={class:"row q-col-gutter-lg"},Z=l("div",{class:"col-12 items-center q-mt-xs"},[l("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Informa\xE7\xF5es ")],-1),ee={class:"col-12 col-md-9"},te={class:"col-12 col-md-3"},oe={class:"text-red"},ne={class:"col-12 col-md-12"},se={class:"text-red"},le={class:"col-12 col-md-12"},ae={class:"col-12 q-col-gutter-lg"},ie={class:"col-12 col-md-12"},de={class:"text-red"},ce={class:"col-12 col-md-12"},re={class:"text-red"},me={class:"col-12 col-md-12"},ue=l("div",{class:"q-field__label q-pb-sm"}," Conte\xFAdo e-mail ",-1),_e={class:"col-12 col-md-12"},pe={class:"text-red"},he={__name:"Edit",props:{notification:Object,errors:Object},setup(c){const i=c,g=A(),o=L({id:i.notification.id,identifier:i.notification.identifier,name:i.notification.name,send_by_email:i.notification.send_by_email,send_by_whatsapp:i.notification.send_by_whatsapp,send_by_sms:i.notification.send_by_sms,send_by_pusher:i.notification.send_by_pusher,content_pusher:i.notification.content_pusher,content_email:i.notification.content_email,content_sms:i.notification.content_sms,content_whatsapp:i.notification.content_whatsapp,mandatory:i.notification.mandatory,active:i.notification.active}),x=()=>{o.put(route("admin.notification.update",o.id),{onSuccess:()=>{g.notify({type:"positive",message:"Notifica\xE7\xE3o atualizado com sucesso",position:"top"})}})},h=y(null),w=()=>{const r=document.createElement("input");r.type="file",r.accept=".png, .jpg",r.onchange=()=>{const t=Array.from(r.files),u=new FileReader;u.onloadend=function(){const f=document.createElement("img");f.src=u.result;const v=document.createElement("div");v.append(f);const _=h.value;_.caret.restore(),_.runCmd("insertHTML",v.innerHTML),_.focus()},u.readAsDataURL(t[0])},r.click()},C=r=>{const t=h.value;t.caret.restore(),t.runCmd("insertHTML",r),t.focus()};y(null);const E=[{tag:"[[aluno_nome]]",label:"Nome do aluno"},{tag:"[[aluno_email]]",label:"E-mail do aluno"},{tag:"[[professor_nome]]",label:"Nome do professor"}];return(r,t)=>{const u=d("q-breadcrumbs-el"),f=d("q-breadcrumbs"),v=d("q-icon"),_=d("q-btn"),p=d("q-input"),k=d("q-chip"),U=d("q-select"),b=d("q-checkbox"),z=d("q-item-section"),N=d("q-item"),B=d("q-list"),S=d("q-btn-dropdown"),j=d("q-editor"),H=D("close-popup");return q(),M(T,null,{default:a(()=>[s(n(F),{title:"Notifica\xE7\xE3o | Editar"}),l("div",Q,[l("div",G,[J,s(f,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:a(()=>[s(u,{label:"Home",class:"text-grey"}),s(u,{label:"Notifica\xE7\xF5es",class:"text-grey"}),s(u,{label:"Editar notifica\xE7\xE3o",class:"text-primary"})]),_:1})]),l("div",K,[s(_,{color:"primary",rounded:"","no-caps":"",onClick:x,disabled:n(o).processing},{default:a(()=>[s(v,{name:"check",size:"xs"}),P]),_:1},8,["disabled"])])]),l("div",X,[l("div",Y,[Z,l("div",ee,[s(p,{outlined:"",modelValue:n(o).identifier,"onUpdate:modelValue":t[0]||(t[0]=e=>n(o).identifier=e),label:"Identificador",disable:""},null,8,["modelValue"])]),l("div",te,[s(U,{options:[{label:"Ativo",value:!0},{label:"Inativo",value:!1}],outlined:"",modelValue:n(o).active,"onUpdate:modelValue":t[1]||(t[1]=e=>n(o).active=e),label:"Status","bottom-slots":Boolean(c.errors.active),"map-options":"","emit-value":""},{hint:a(()=>[l("div",oe,m(c.errors.active),1)]),"selected-item":a(e=>[s(k,{tabindex:e.tabindex,"text-color":"white",class:I([{"adm-bg-positive":e.opt.value,"adm-bg-negative":!e.opt.value},"q-my-none"]),dense:""},{default:a(()=>[V(m(e.opt.label),1)]),_:2},1032,["tabindex","class"])]),_:1},8,["modelValue","bottom-slots"])]),l("div",ne,[s(p,{outlined:"",modelValue:n(o).name,"onUpdate:modelValue":t[2]||(t[2]=e=>n(o).name=e),label:"Nome *","bottom-slots":Boolean(c.errors.name)},{hint:a(()=>[l("div",se,m(c.errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),l("div",le,[s(b,{modelValue:n(o).mandatory,"onUpdate:modelValue":t[3]||(t[3]=e=>n(o).mandatory=e),label:"Notifica\xE7\xE3o obrigat\xF3ria"},null,8,["modelValue"])]),l("div",ae,[s(b,{modelValue:n(o).send_by_whatsapp,"onUpdate:modelValue":t[4]||(t[4]=e=>n(o).send_by_whatsapp=e),label:"Enviar por WhatsApp"},null,8,["modelValue"]),s(b,{modelValue:n(o).send_by_sms,"onUpdate:modelValue":t[5]||(t[5]=e=>n(o).send_by_sms=e),label:"Enviar por SMS"},null,8,["modelValue"]),s(b,{modelValue:n(o).send_by_email,"onUpdate:modelValue":t[6]||(t[6]=e=>n(o).send_by_email=e),label:"Enviar por e-mail"},null,8,["modelValue"]),s(b,{modelValue:n(o).send_by_pusher,"onUpdate:modelValue":t[7]||(t[7]=e=>n(o).send_by_pusher=e),label:"Enviar por pusher"},null,8,["modelValue"])]),l("div",ie,[s(p,{outlined:"",modelValue:n(o).content_whatsapp,"onUpdate:modelValue":t[8]||(t[8]=e=>n(o).content_whatsapp=e),label:"Conte\xFAdo WhatsApp","bottom-slots":Boolean(c.errors.content_whatsapp),type:"textarea"},{hint:a(()=>[l("div",de,m(c.errors.content_whatsapp),1)]),_:1},8,["modelValue","bottom-slots"])]),l("div",ce,[s(p,{outlined:"",modelValue:n(o).content_sms,"onUpdate:modelValue":t[9]||(t[9]=e=>n(o).content_sms=e),label:"Conte\xFAdo SMS","bottom-slots":Boolean(c.errors.content_sms),type:"textarea"},{hint:a(()=>[l("div",re,m(c.errors.content_sms),1)]),_:1},8,["modelValue","bottom-slots"])]),l("div",me,[ue,s(j,{ref_key:"editorContentEmailRef",ref:h,modelValue:n(o).content_email,"onUpdate:modelValue":t[10]||(t[10]=e=>n(o).content_email=e),toolbar:[["left","center","right","justify","bold","italic","underline","strike","undo","redo"],["upload","fullscreen"],[{icon:"text_fields",list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}],["tag"]]},{upload:a(()=>[s(_,{dense:"",unelevated:"",size:"sm",icon:"o_image",onClick:w})]),tag:a(()=>[s(S,{dense:"",unelevated:"",label:"Tag",size:"sm"},{default:a(()=>[s(B,{dense:""},{default:a(()=>[(q(),R(O,null,$(E,e=>W(s(N,{clickable:"",onClick:be=>C(e.tag)},{default:a(()=>[s(z,null,{default:a(()=>[V(m(e.label)+": "+m(e.tag),1)]),_:2},1024)]),_:2},1032,["onClick"]),[[H]])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",_e,[s(p,{outlined:"",modelValue:n(o).content_pusher,"onUpdate:modelValue":t[11]||(t[11]=e=>n(o).content_pusher=e),label:"Conte\xFAdo pusher","bottom-slots":Boolean(c.errors.content_pusher),type:"textarea"},{hint:a(()=>[l("div",pe,m(c.errors.content_pusher),1)]),_:1},8,["modelValue","bottom-slots"])])])])]),_:1})}}};export{he as default};
