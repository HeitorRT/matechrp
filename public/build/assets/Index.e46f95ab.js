import{_ as ne}from"./AuthenticatedLayout.0bc0b363.js";import{h as ie,m as j,u as V,j as J,c as de,w as d,r as u,o as r,a as o,b as e,H as re,d as s,t as y,n as c,p as ce,F as me,s as p,B as U,C as P,D as B,f as K}from"./app.cc606831.js";import{_ as A}from"./DialogConfirm.f96873bf.js";import{u as W}from"./index.common.8f199d34.js";const pe={class:"row q-mb-lg"},ue={class:"column col-12 col-md-6 justify-center"},_e={class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"},ye={class:"col-12 col-md-6 flex justify-end items-center"},fe=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Voltar ",-1),ve={class:"bg-white app-br-16"},be={class:"bg-white q-py-lg q-px-lg app-br-16"},he={class:"row q-col-gutter-lg q-mb-md"},qe={class:"col-12 items-center q-mt-xs"},ge={class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"},xe={class:"col-12 col-md-6"},Ve={class:"col-12 col-md-6"},ke={key:0,class:"col-12 col-md-6"},we={key:1,class:"col-12 col-md-6"},Ce={key:2,class:"col-12"},ze={key:3,class:"col-12 flex justify-end"},je={class:"flex flex-center"},Ue=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Adicionar extra ",-1),Pe={class:"col-12 items-center q-mt-xs row justify-between"},Be=s("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Editar extra ",-1),Ee={class:"col-12 col-md-6"},Se={class:"text-red"},Fe={class:"col-12 col-md-6"},Te={class:"text-red"},$e={key:0,class:"col-12 col-md-6"},Oe={class:"text-red"},Ae={key:1,class:"col-12 col-md-6"},De={class:"text-red"},Ie={key:2,class:"col-12 text-center text-red"},Ne={key:3,class:"col-12"},Re={class:"absolute-bottom text-subtitle2 row items-center"},Me={key:4,class:"col-12"},He=s("div",{class:"q-mt-sm"}," Clique aqui ou arraste seu arquivo ",-1),Le={class:"col-12 row justify-end"},Ze=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Cancelar ",-1),Qe=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Atualizar ",-1),Ge={class:"col-12 items-center q-mt-xs row justify-between"},Je=s("div",{class:"q-ml-sm text-grey-8 app-fw-700 app-lh-32 app-fs-23"}," Adicionar extra ",-1),Ke={class:"col-12 col-md-6"},We={class:"text-red"},Xe={class:"col-12 col-md-6"},Ye={class:"text-red"},eo={key:0,class:"col-12 col-md-6"},oo={class:"text-red"},to={key:1,class:"col-12 col-md-6"},so={class:"text-red"},lo={key:2,class:"col-12 text-center text-red"},ao={key:3,class:"col-12"},no={class:"absolute-bottom text-subtitle2 row items-center"},io={key:4,class:"col-12"},ro=s("div",{class:"q-mt-sm"}," Clique aqui ou arraste seu arquivo ",-1),co={class:"col-12 row justify-end"},mo=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Cancelar ",-1),po=s("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Cadastrar ",-1),vo={__name:"Index",props:{content:Object,extras:Object,errors:Object,types:Object,players:Object},setup(k){const v=k,b=ie(),D=j("extras"),X=()=>V().get(route("admin.content.edit",v.content.id)),Y=()=>V().get(route("admin.content.titles",v.content.id)),I=n=>{b.dialog({component:A,componentProps:{title:"Excluir extra ?",message:`Tem certeza que deseja ${n.name}?`}}).onOk(()=>{V().delete(route("admin.content.extra.destroy",{content:v.content.id,extra:n.id}),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{b.notify({type:"positive",message:`Extra ${n.name} excluido com sucesso`,position:"top"})}})})},w=j(!1),N=()=>{b.dialog({component:A,componentProps:{title:"Fechar janela?",message:"Ao fechar esta janela, os dados ser\xE3o perdidos. Tem certeza que deseja fechar?"}}).onOk(()=>{w.value=!1,i.reset()})},C=W({onDrop:(n,a)=>{a.length>0?b.notify({message:"Insira apenas um arquivo",position:"center"}):(i.file=n[0],i.is_image=n[0].type.includes("image"))},maxFiles:1}),i=V({name:null,type:"arquivo",player:null,embed:null,file:null,is_image:!0}),ee=()=>{i.post(route("admin.content.extra.store",{content:v.content.id}),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{b.notify({type:"positive",message:`Extra ${i.name} cadastrado com sucesso`,position:"top"}),w.value=!1,i.reset()}})},q=j(!1),h=j({}),t=V({id:null,name:null,type:null,player:null,embed:null,file:null}),oe=()=>{t.transform(n=>({...n,_method:"put"})).post(route("admin.content.extra.update",{content:v.content.id,extra:t.id}),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{b.notify({type:"positive",message:`Extra ${t.name} atualizado com sucesso`,position:"top"}),q.value=!1,t.reset()}})},R=n=>{q.value=!0,h.value=n,t.id=n.id,t.name=n.name,t.type=n.type,t.player=n.player,t.embed=n.embed,t.file=n.file,t.is_image=n.is_image},M=()=>{t.id==h.value.id&&t.name==h.value.name&&t.type==h.value.type&&t.player==h.value.player&&t.embed==h.value.embed&&t.file==h.value.file?(q.value=!1,t.reset()):b.dialog({component:A,componentProps:{title:"Fechar janela?",message:"Ao fechar esta janela, as altera\xE7\xF5es ser\xE3o perdidas. Tem certeza que deseja fechar?"}}).onOk(()=>{q.value=!1,t.reset()})},z=W({onDrop:(n,a)=>{a.length>0?b.notify({message:"Insira apenas um arquivo",position:"center"}):(t.file=n[0],t.is_image=n[0].type.includes("image"))},maxFiles:1}),H=()=>t.file=null,E=J(()=>{let n=new Array;for(const a in v.types)n.push({label:v.types[a],value:a});return n}),S=J(()=>{let n=new Array;for(const a in v.players)n.push({label:v.players[a],value:a});return n}),te=()=>V().get(route("admin.content.index")),se="https://i.pinimg.com/564x/04/54/7c/04547c2b354abb70a85ed8a2d1b33e5f.jpg",F=n=>n.file==null?"":n.is_image?typeof n.file=="object"?URL.createObjectURL(n.file):n.file:se;return(n,a)=>{const T=u("q-breadcrumbs-el"),le=u("q-breadcrumbs"),_=u("q-icon"),m=u("q-btn"),$=u("q-tab"),ae=u("q-tabs"),g=u("q-select"),x=u("q-input"),L=u("q-btn-group"),O=u("q-img"),Z=u("q-card-section"),Q=u("q-card"),G=u("q-dialog");return r(),de(ne,null,{default:d(()=>[o(e(re),{title:k.content.name},null,8,["title"]),s("div",pe,[s("div",ue,[s("div",_e,y(k.content.name),1),o(le,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:d(()=>[o(T,{label:"Home",class:"text-grey"}),o(T,{label:"Conte\xFAdos",class:"text-grey"}),o(T,{label:k.content.name,class:"text-primary"},null,8,["label"])]),_:1})]),s("div",ye,[o(m,{color:"primary",class:"q-mr-md",rounded:"","no-caps":"",outline:"",onClick:te},{default:d(()=>[o(_,{name:"chevron_left",size:"xs"}),fe]),_:1})])]),s("div",ve,[o(ae,{modelValue:D.value,"onUpdate:modelValue":a[0]||(a[0]=l=>D.value=l),dense:"",class:"text-grey app-br-tl-16 app-br-tr-16","active-color":"primary","indicator-color":"primary",align:"justify","no-caps":""},{default:d(()=>[o($,{name:"main",label:"Dados do conte\xFAdo",class:"q-py-md",onClick:X}),o($,{name:"titles",label:"T\xEDtulos",class:"q-py-md",onClick:Y}),o($,{name:"extras",label:"Extras",class:"q-py-md"})]),_:1},8,["modelValue"]),s("div",be,[(r(!0),c(me,null,ce(k.extras,l=>(r(),c("div",he,[s("div",qe,[s("div",ge," Extra "+y(l.name),1)]),s("div",xe,[o(g,{options:e(E),outlined:"",modelValue:l.type,"onUpdate:modelValue":f=>l.type=f,label:"Extra","emit-value":"","map-options":"",disable:""},null,8,["options","modelValue","onUpdate:modelValue"])]),s("div",Ve,[o(x,{outlined:"",modelValue:l.name,"onUpdate:modelValue":f=>l.name=f,label:"Nome do extra",disable:""},null,8,["modelValue","onUpdate:modelValue"])]),l.type!=="arquivo"?(r(),c("div",ke,[o(g,{options:e(S),outlined:"",modelValue:l.player,"onUpdate:modelValue":f=>l.player=f,label:"Tipo de player","emit-value":"","map-options":"",disable:""},null,8,["options","modelValue","onUpdate:modelValue"])])):p("",!0),l.type!=="arquivo"?(r(),c("div",we,[o(x,{outlined:"",modelValue:l.embed,"onUpdate:modelValue":f=>l.embed=f,label:"C\xF3digo embed",disable:""},{after:d(()=>[o(L,{flat:""},{default:d(()=>[o(m,{color:"negative",onClick:f=>I(l),flat:"",icon:"close",padding:"xs"},null,8,["onClick"]),o(m,{color:"primary",onClick:f=>R(l),flat:"",icon:"o_edit",padding:"xs"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])])):p("",!0),l.type==="arquivo"?(r(),c("div",Ce,[o(O,{src:F(l),style:{height:"400px"},class:"app-br-16"},null,8,["src"])])):p("",!0),l.type==="arquivo"?(r(),c("div",ze,[o(L,{flat:""},{default:d(()=>[o(m,{color:"negative",onClick:f=>I(l),flat:"",icon:"close",padding:"xs"},null,8,["onClick"]),o(m,{color:"primary",onClick:f=>R(l),flat:"",icon:"o_edit",padding:"xs"},null,8,["onClick"])]),_:2},1024)])):p("",!0)]))),256)),s("div",je,[o(m,{color:"primary","no-caps":"",flat:"",onClick:a[1]||(a[1]=l=>w.value=!0)},{default:d(()=>[o(_,{name:"add",size:"xs"}),Ue]),_:1})])])]),o(G,{modelValue:q.value,"onUpdate:modelValue":a[6]||(a[6]=l=>q.value=l),persistent:""},{default:d(()=>[o(Q,{style:{width:"1000px","max-width":"80vw"},class:"app-br-16 q-my-sm q-pa-sm"},{default:d(()=>[o(Z,{class:"row q-col-gutter-lg"},{default:d(()=>[s("div",Pe,[Be,o(m,{color:"primary",onClick:M,flat:""},{default:d(()=>[o(_,{name:"close",size:"xs"})]),_:1})]),s("div",Ee,[o(g,{options:e(E),outlined:"",modelValue:e(t).type,"onUpdate:modelValue":a[2]||(a[2]=l=>e(t).type=l),label:"Extra","emit-value":"","map-options":"","bottom-slots":Boolean(e(t).errors.type)},{hint:d(()=>[s("div",Se,y(e(t).errors.type),1)]),_:1},8,["options","modelValue","bottom-slots"])]),s("div",Fe,[o(x,{outlined:"",modelValue:e(t).name,"onUpdate:modelValue":a[3]||(a[3]=l=>e(t).name=l),label:"Nome do extra","bottom-slots":Boolean(e(t).errors.name)},{hint:d(()=>[s("div",Te,y(e(t).errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),e(t).type!=="arquivo"?(r(),c("div",$e,[o(g,{options:e(S),outlined:"",modelValue:e(t).player,"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).player=l),label:"Tipo de player","emit-value":"","map-options":"","bottom-slots":Boolean(e(t).errors.player)},{hint:d(()=>[s("div",Oe,y(e(t).errors.player),1)]),_:1},8,["options","modelValue","bottom-slots"])])):p("",!0),e(t).type!=="arquivo"?(r(),c("div",Ae,[o(x,{outlined:"",modelValue:e(t).embed,"onUpdate:modelValue":a[5]||(a[5]=l=>e(t).embed=l),label:"C\xF3digo embed","bottom-slots":Boolean(e(t).errors.embed)},{hint:d(()=>[s("div",De,y(e(t).errors.embed),1)]),_:1},8,["modelValue","bottom-slots"])])):p("",!0),e(t).errors.file?(r(),c("div",Ie,y(e(t).errors.file),1)):p("",!0),e(t).type==="arquivo"&&e(t).file?(r(),c("div",Ne,[o(O,{src:F(e(t)),style:{height:"400px"},class:"app-br-16"},{default:d(()=>[s("div",Re,[o(_,{name:"o_photo",size:"md",class:"q-mr-md"}),o(m,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:H}),s("div",U({class:"flex cursor-pointer"},e(z).getRootProps()),[s("input",P(B(e(z).getInputProps())),null,16),K(" Alterar arquivo ")],16)])]),_:1},8,["src"])])):p("",!0),e(t).type==="arquivo"&&!e(t).file?(r(),c("div",Me,[s("div",U(e(z).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[s("input",P(B(e(z).getInputProps())),null,16),o(_,{name:"o_photo",size:"md"}),He],16)])):p("",!0),s("div",Le,[o(m,{color:"primary",rounded:"","no-caps":"",onClick:M,size:"sm",class:"q-my-md",outline:""},{default:d(()=>[o(_,{name:"close",size:"xs"}),Ze]),_:1}),o(m,{color:"primary",rounded:"","no-caps":"",disabled:e(t).processing,size:"sm",class:"q-my-md q-ml-sm",onClick:oe},{default:d(()=>[o(_,{name:"check",size:"xs"}),Qe]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(G,{modelValue:w.value,"onUpdate:modelValue":a[11]||(a[11]=l=>w.value=l),persistent:""},{default:d(()=>[o(Q,{style:{width:"1000px","max-width":"80vw"},class:"app-br-16 q-my-sm q-pa-sm"},{default:d(()=>[o(Z,{class:"row q-col-gutter-lg"},{default:d(()=>[s("div",Ge,[Je,o(m,{color:"primary",onClick:N,flat:""},{default:d(()=>[o(_,{name:"close",size:"xs"})]),_:1})]),s("div",Ke,[o(g,{options:e(E),outlined:"",modelValue:e(i).type,"onUpdate:modelValue":a[7]||(a[7]=l=>e(i).type=l),label:"Extra","emit-value":"","map-options":"","bottom-slots":Boolean(e(i).errors.type)},{hint:d(()=>[s("div",We,y(e(i).errors.type),1)]),_:1},8,["options","modelValue","bottom-slots"])]),s("div",Xe,[o(x,{outlined:"",modelValue:e(i).name,"onUpdate:modelValue":a[8]||(a[8]=l=>e(i).name=l),label:"Nome do extra","bottom-slots":Boolean(e(i).errors.name)},{hint:d(()=>[s("div",Ye,y(e(i).errors.name),1)]),_:1},8,["modelValue","bottom-slots"])]),e(i).type!=="arquivo"?(r(),c("div",eo,[o(g,{options:e(S),outlined:"",modelValue:e(i).player,"onUpdate:modelValue":a[9]||(a[9]=l=>e(i).player=l),label:"Tipo de player","emit-value":"","map-options":"","bottom-slots":Boolean(e(i).errors.player)},{hint:d(()=>[s("div",oo,y(e(i).errors.player),1)]),_:1},8,["options","modelValue","bottom-slots"])])):p("",!0),e(i).type!=="arquivo"?(r(),c("div",to,[o(x,{outlined:"",modelValue:e(i).embed,"onUpdate:modelValue":a[10]||(a[10]=l=>e(i).embed=l),label:"C\xF3digo embed","bottom-slots":Boolean(e(i).errors.embed)},{hint:d(()=>[s("div",so,y(e(i).errors.embed),1)]),_:1},8,["modelValue","bottom-slots"])])):p("",!0),e(i).errors.file?(r(),c("div",lo,y(e(i).errors.file),1)):p("",!0),e(i).type==="arquivo"&&e(i).file?(r(),c("div",ao,[o(O,{src:F(e(i)),style:{height:"400px"},class:"app-br-16"},{default:d(()=>[s("div",no,[o(_,{name:"o_photo",size:"md",class:"q-mr-md"}),o(m,{color:"white",class:"absolute",style:{top:"8px",right:"8px"},flat:"",icon:"close",size:"md",onClick:H}),s("div",U({class:"flex cursor-pointer"},e(C).getRootProps()),[s("input",P(B(e(C).getInputProps())),null,16),K(" Alterar arquivo ")],16)])]),_:1},8,["src"])])):p("",!0),e(i).type==="arquivo"&&!e(i).file?(r(),c("div",io,[s("div",U(e(C).getRootProps(),{class:"column flex-center q-py-lg text-grey adm-border-dashed-blue app-br-16"}),[s("input",P(B(e(C).getInputProps())),null,16),o(_,{name:"o_photo",size:"md"}),ro],16)])):p("",!0),s("div",co,[o(m,{color:"primary",rounded:"","no-caps":"",onClick:N,size:"sm",class:"q-my-md",outline:""},{default:d(()=>[o(_,{name:"close",size:"xs"}),mo]),_:1}),o(m,{color:"primary",rounded:"","no-caps":"",disabled:e(i).processing,size:"sm",class:"q-my-md q-ml-sm",onClick:ee},{default:d(()=>[o(_,{name:"check",size:"xs"}),po]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{vo as default};
