import{_ as G}from"./AuthenticatedLayout.0bc0b363.js";import{u as b,j as J,m as K,c as _,w as s,r as o,o as m,a as e,b as c,H as Q,d as a,s as q,f as v,t as x,q as X}from"./app.cc606831.js";const Y={class:"row q-pb-xl"},Z={class:"column col-12 col-md-6 justify-center"},ee=a("div",{class:"app-fs-28 app-fw-700 app-lh-32 text-grey-8"}," Notifica\xE7\xF5es ",-1),te={class:"row q-col-gutter-sm"},se={class:"col-12"},oe={class:"flex flex-center q-pt-lg q-pa-md q-gutter-sm"},ae=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20"}," Filtrar ",-1),ne=a("div",{class:"q-ml-sm app-fw-500 app-fs-14 app-lh-20 m-4"}," Limpar ",-1),le=["onClick"],ie={class:"flex flex-center app-fw-700 app-fs-16"},re={class:"text-center"},ce={class:"text-center"},de={class:"text-center"},_e={class:"text-center"},me={class:"app-fw-700 app-fs-16"},pe=a("div",{class:"q-ml-sm"}," Editar ",-1),ue=a("div",{class:"q-ml-sm"}," Visualizar ",-1),fe=a("div",{class:"q-ml-sm"}," Visualizar ",-1),ye={class:"row items-center text-grey"},be={class:"row items-center text-grey"},ge={__name:"Index",props:{notifications:Object,errors:Object,query:Object,canNotificationEdit:Boolean},setup(d){const p=d,j=[{name:"name",align:"left",label:"Nome",field:"name",style:"width: 40%"},{name:"send_by_whatsapp",align:"left",label:"Enviar por WhatsApp",field:"send_by_whatsapp",style:"width: 10%"},{name:"send_by_sms",align:"left",label:"Enviar por SMS",field:"send_by_sms",style:"width: 10%"},{name:"send_by_email",align:"left",label:"Enviar por e-mail",field:"send_by_email",style:"width: 10%"},{name:"send_by_pusher",align:"left",label:"Enviar por pusher",field:"send_by_pusher",style:"width: 10%"},{name:"active",align:"center",label:"Status",field:"active",style:"width: 10%"},{name:"actions",label:"A\xE7\xE3o"}],n=b({orderBy:p.query.orderBy,sort:p.query.sort,page:p.query.page,rowsPerPage:p.query.rowsPerPage,filters:{name:p.query.filters.name}}),F=i=>{n.orderBy===i?n.sort=n.sort=="desc"?"asc":"desc":n.sort=="asc",n.orderBy=i,n.page=1,f()},A=i=>{n.filters[i]=null,f()},f=()=>{n.get(route("admin.notification.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>w.value=!1})},O=i=>b().get(route("admin.notification.edit",i)),k=i=>b().get(route("admin.notification.show",i)),V=J(()=>Object.values(p.query.filters).filter(i=>i).length),w=K(!1),U=()=>b().get(route("admin.notification.index"));return(i,r)=>{const C=o("q-breadcrumbs-el"),H=o("q-breadcrumbs"),l=o("q-icon"),z=o("q-chip"),N=o("q-space"),D=o("q-badge"),I=o("q-input"),y=o("q-btn"),P=o("q-menu"),g=o("q-card-section"),B=o("q-separator"),E=o("q-th"),u=o("q-td"),S=o("q-item-section"),$=o("q-item"),L=o("q-list"),M=o("q-table"),R=o("q-select"),T=o("q-pagination"),W=o("q-card");return m(),_(G,null,{default:s(()=>[e(c(Q),{title:"Notifica\xE7\xF5es"}),a("div",Y,[a("div",Z,[ee,e(H,{class:"text-grey q-mt-sm app-fs-13 app-fw-400 app-lh-16",gutter:"xs"},{default:s(()=>[e(C,{label:"Home",class:"text-grey"}),e(C,{label:"Notifica\xE7\xF5es",class:"text-primary"})]),_:1})])]),e(W,{flat:"",class:"app-br-16"},{default:s(()=>[e(g,{class:"row items-center q-py-sm q-px-lg"},{default:s(()=>[d.query.filters.name?(m(),_(z,{key:0,class:"adm-chip-primary",label:`Nome = ${d.query.filters.name}`},{default:s(()=>[e(l,{name:"cancel",size:"xs",onClick:r[0]||(r[0]=t=>A("name")),class:"q-ml-xs cursor-pointer"})]),_:1},8,["label"])):q("",!0),e(N),e(y,{round:"",dense:"",flat:"",color:"primary"},{default:s(()=>[c(V)?(m(),_(D,{key:0,color:"primary",floating:"",rounded:"",label:c(V)},null,8,["label"])):q("",!0),e(l,{name:"tune",class:"rotate-90"}),e(P,{style:{"min-width":"500px"},"max-width":"500px",class:"bg-white q-pa-md app-br-16",modelValue:w.value,"onUpdate:modelValue":r[2]||(r[2]=t=>w.value=t)},{default:s(()=>[a("div",te,[a("div",se,[e(I,{outlined:"",modelValue:c(n).filters.name,"onUpdate:modelValue":r[1]||(r[1]=t=>c(n).filters.name=t),label:"Nome"},null,8,["modelValue"])])]),a("div",oe,[e(y,{color:"primary",rounded:"","no-caps":"",onClick:f},{default:s(()=>[e(l,{name:"check",size:"xs"}),ae]),_:1}),e(y,{color:"primary",rounded:"",outline:"","no-caps":"",onClick:U},{default:s(()=>[e(l,{name:"close",size:"xs"}),ne]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(g,{class:"q-py-none"},{default:s(()=>[e(B,{color:"grey-3"})]),_:1}),e(g,{class:"q-py-none"},{default:s(()=>[e(M,{rows:d.notifications.data,columns:j,flat:"",class:"text-grey-8","hide-pagination":"",pagination:{rowsPerPage:c(n).rowsPerPage}},{"header-cell":s(t=>[e(E,{props:t},{default:s(()=>[a("div",{class:"app-fw-700 app-fs-16 cursor-pointer",onClick:h=>F(t.col.name)},[v(x(t.col.label)+" ",1),t.col.name===d.query.orderBy?(m(),_(l,{key:0,name:d.query.sort=="desc"?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])):q("",!0)],8,le)]),_:2},1032,["props"])]),"header-cell-actions":s(t=>[e(E,{props:t,"auto-width":""},{default:s(()=>[a("div",ie,x(t.col.label),1)]),_:2},1032,["props"])]),"body-cell-send_by_email":s(t=>[e(u,{props:t},{default:s(()=>[a("div",re,[e(l,{name:t.row.send_by_email?"check":"not_interested",color:t.row.send_by_email?"green":"red",size:"xs"},null,8,["name","color"])])]),_:2},1032,["props"])]),"body-cell-send_by_whatsapp":s(t=>[e(u,{props:t},{default:s(()=>[a("div",ce,[e(l,{name:t.row.send_by_whatsapp?"check":"not_interested",color:t.row.send_by_whatsapp?"green":"red",size:"xs"},null,8,["name","color"])])]),_:2},1032,["props"])]),"body-cell-send_by_sms":s(t=>[e(u,{props:t},{default:s(()=>[a("div",de,[e(l,{name:t.row.send_by_sms?"check":"not_interested",color:t.row.send_by_sms?"green":"red",size:"xs"},null,8,["name","color"])])]),_:2},1032,["props"])]),"body-cell-send_by_pusher":s(t=>[e(u,{props:t},{default:s(()=>[a("div",_e,[e(l,{name:t.row.send_by_pusher?"check":"not_interested",color:t.row.send_by_pusher?"green":"red",size:"xs"},null,8,["name","color"])])]),_:2},1032,["props"])]),"body-cell-active":s(t=>[e(u,{props:t},{default:s(()=>[e(z,{"text-color":"white",class:X({"adm-bg-positive":t.row.active,"adm-bg-negative":!t.row.active})},{default:s(()=>[v(x(t.row.active?"Ativo":"Inativo"),1)]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-actions":s(t=>[e(u,{props:t},{default:s(()=>[a("div",me,[d.canNotificationEdit?(m(),_(y,{key:0,icon:"more_vert",flat:""},{default:s(()=>[e(P,{offset:[65,0]},{default:s(()=>[e(L,null,{default:s(()=>[d.canNotificationEdit?(m(),_($,{key:0,clickable:"",onClick:h=>O(t.row.id),class:"text-grey-7 flex items-center"},{default:s(()=>[e(l,{name:"edit",size:"xs"}),e(S,{"no-wrap":""},{default:s(()=>[pe]),_:1})]),_:2},1032,["onClick"])):q("",!0),e(B),e($,{clickable:"",onClick:h=>k(t.row.id),class:"text-grey-7 flex items-center"},{default:s(()=>[e(l,{name:"visibility",size:"xs"}),e(S,{"no-wrap":""},{default:s(()=>[ue]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):(m(),_(y,{key:1,onClick:h=>k(t.row.id),class:"text-grey-7 flex flex-center text-no-wrap",flat:"","no-caps":""},{default:s(()=>[e(l,{name:"visibility",size:"xs"}),fe]),_:2},1032,["onClick"]))])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),a("div",ye,[e(N),a("div",be,[v(" Resultado por p\xE1gina "),e(R,{options:[5,10,15],modelValue:c(n).rowsPerPage,"onUpdate:modelValue":[r[3]||(r[3]=t=>c(n).rowsPerPage=t),f],borderless:"",class:"q-ml-md"},null,8,["modelValue"])]),e(T,{modelValue:c(n).page,"onUpdate:modelValue":[r[4]||(r[4]=t=>c(n).page=t),f],max:d.notifications.meta.last_page,"direction-links":"","boundary-links":"",color:"grey",input:"","icon-first":"keyboard_double_arrow_left","icon-last":"keyboard_double_arrow_right"},null,8,["modelValue","max"])])]),_:1})]),_:1})]),_:1})}}};export{ge as default};
